{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/components/tutorial/assets/zoom.svg","webpack:///./src/components/modal/assets/cross.svg","webpack:///./src/components/tutorial/assets/steps.svg","webpack:///./src/components/drawing/DrawingLine.vue?7ef7","webpack:///./src/components/SvgViewport.vue?d30b","webpack:///./src/components/tutorial/Tutorial.vue?5458","webpack:///./src/components/exporter/Exporter.vue?c2a8","webpack:///./src/App.vue?9116","webpack:///./src/store/states.js","webpack:///./src/components/debug/DebugInfo.vue?c744","webpack:///./src/core/Helpers/MathHelpers.js","webpack:///./src/core/Point.js","webpack:///./src/core/Intersection.js","webpack:///./src/core/Helpers/GeometryHelpers.js","webpack:///./src/core/Helpers/LazyInit.js","webpack:///./src/core/LineBase.js","webpack:///./src/core/Line.js","webpack:///src/components/debug/DebugInfo.vue","webpack:///./src/components/debug/DebugInfo.vue?1829","webpack:///./src/components/debug/DebugInfo.vue","webpack:///./src/components/debug/DebugView.vue?2c6a","webpack:///./src/core/Segment.js","webpack:///./src/core/Constraint.js","webpack:///./src/core/Helpers/ArrayHelpers.js","webpack:///src/components/debug/DebugView.vue","webpack:///./src/components/debug/DebugView.vue?b7af","webpack:///./src/components/debug/DebugView.vue","webpack:///./src/components/tutorial/Tutorial.vue?1e28","webpack:///./src/components/modal/Modal.vue?2ca5","webpack:///src/components/modal/Modal.vue","webpack:///./src/components/modal/Modal.vue?2994","webpack:///./src/components/modal/Modal.vue","webpack:///src/components/tutorial/Tutorial.vue","webpack:///./src/components/tutorial/Tutorial.vue?b330","webpack:///./src/components/tutorial/Tutorial.vue","webpack:///./src/components/menu/Menu.vue?25d0","webpack:///./src/components/menu/MenuItem.vue?f8a4","webpack:///./src/icons/Arrow.vue?7ff7","webpack:///./src/icons/IconBase.vue?d93e","webpack:///src/icons/IconBase.vue","webpack:///./src/icons/IconBase.vue?dc70","webpack:///./src/icons/IconBase.vue","webpack:///src/icons/Arrow.vue","webpack:///./src/icons/Arrow.vue?dfbc","webpack:///./src/icons/Arrow.vue","webpack:///src/components/menu/MenuItem.vue","webpack:///./src/components/menu/MenuItem.vue?1bf9","webpack:///./src/components/menu/MenuItem.vue","webpack:///./src/components/parameters/ParametersContent.vue?4a6c","webpack:///src/components/parameters/ParametersContent.vue","webpack:///./src/components/parameters/ParametersContent.vue?2f1b","webpack:///./src/components/parameters/ParametersContent.vue","webpack:///./src/icons/New.vue?1e3d","webpack:///src/icons/New.vue","webpack:///./src/icons/New.vue?c064","webpack:///./src/icons/New.vue","webpack:///./src/icons/Undo.vue?84ca","webpack:///src/icons/Undo.vue","webpack:///./src/icons/Undo.vue?4e1e","webpack:///./src/icons/Undo.vue","webpack:///./src/icons/Redo.vue?8e60","webpack:///src/icons/Redo.vue","webpack:///./src/icons/Redo.vue?1852","webpack:///./src/icons/Redo.vue","webpack:///./src/icons/Preview.vue?7c8b","webpack:///src/icons/Preview.vue","webpack:///./src/icons/Preview.vue?f163","webpack:///./src/icons/Preview.vue","webpack:///./src/icons/Export.vue?b322","webpack:///src/icons/Export.vue","webpack:///./src/icons/Export.vue?df72","webpack:///./src/icons/Export.vue","webpack:///./src/icons/Guides.vue?75bc","webpack:///src/icons/Guides.vue","webpack:///./src/icons/Guides.vue?848b","webpack:///./src/icons/Guides.vue","webpack:///./src/icons/Current.vue?f20e","webpack:///src/icons/Current.vue","webpack:///./src/icons/Current.vue?cc89","webpack:///./src/icons/Current.vue","webpack:///./src/icons/Next.vue?44bc","webpack:///src/icons/Next.vue","webpack:///./src/icons/Next.vue?c2c7","webpack:///./src/icons/Next.vue","webpack:///./src/icons/Parameters.vue?9d4b","webpack:///src/icons/Parameters.vue","webpack:///./src/icons/Parameters.vue?1705","webpack:///./src/icons/Parameters.vue","webpack:///src/components/menu/Menu.vue","webpack:///./src/components/menu/Menu.vue?750b","webpack:///./src/components/menu/Menu.vue","webpack:///./src/components/exporter/ExportModal.vue?82a9","webpack:///./src/components/exporter/Exporter.vue?a351","webpack:///./src/core/Helpers/SvgHelpers.js","webpack:///src/components/exporter/Exporter.vue","webpack:///./src/components/exporter/Exporter.vue?704a","webpack:///./src/components/exporter/Exporter.vue","webpack:///src/components/exporter/ExportModal.vue","webpack:///./src/components/exporter/ExportModal.vue?a196","webpack:///./src/components/exporter/ExportModal.vue","webpack:///./src/components/new/New.vue?349d","webpack:///src/components/new/New.vue","webpack:///./src/components/new/New.vue?12ea","webpack:///./src/components/new/New.vue","webpack:///./src/components/SvgViewport.vue?295c","webpack:///./src/EventBus.js","webpack:///src/components/SvgViewport.vue","webpack:///./src/components/SvgViewport.vue?93c6","webpack:///./src/components/SvgViewport.vue","webpack:///./src/components/drawing/DrawingPoint.vue?5cc0","webpack:///src/components/drawing/DrawingPoint.vue","webpack:///./src/components/drawing/DrawingPoint.vue?af5c","webpack:///./src/components/drawing/DrawingPoint.vue","webpack:///./src/components/Guides.vue?3015","webpack:///./src/components/drawing/DrawingLine.vue?0521","webpack:///src/components/drawing/DrawingLine.vue","webpack:///./src/components/drawing/DrawingLine.vue?50d8","webpack:///./src/components/drawing/DrawingLine.vue","webpack:///src/components/Guides.vue","webpack:///./src/components/Guides.vue?4961","webpack:///./src/components/Guides.vue","webpack:///src/App.vue","webpack:///./src/App.vue?8b47","webpack:///./src/App.vue","webpack:///./src/store/parameters.js","webpack:///./src/core/Shape.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/icons/Arrow.vue?b917","webpack:///./src/components/exporter/assets/loadingWheel.svg","webpack:///./src/components/drawing/DrawingPoint.vue?39b5","webpack:///./src/icons/IconBase.vue?3b05","webpack:///./src/components/tutorial/assets/drawing.svg","webpack:///./src/components/debug/DebugInfo.vue?7333","webpack:///./src/components/parameters/ParametersContent.vue?fae7","webpack:///./src/components/new/New.vue?33ad","webpack:///./src/components/menu/Menu.vue?859e","webpack:///./src/components/modal/Modal.vue?ef32","webpack:///./src/components/tutorial/assets/add.svg","webpack:///./src/components/menu/MenuItem.vue?b352","webpack:///./src/components/tutorial/assets/move.svg","webpack:///./src/components/tutorial/assets/end.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","ref","on","$event","mouseMove","type","indexOf","_k","keyCode","button","mouseDown","mouseUp","drawingSize","x","y","_e","_l","shape","id","getPath","points","currentPath","startPoint","hoveredElement","currentPoint","mousePosition","staticClass","staticRenderFns","DRAWING","TUTORIAL","EXPORT","PREVIEW","NEW","_v","_s","display","mouse","cursor","hoveredInfos","epsylon","equiv","a","b","Math","abs","resolve2ndDegreePolynom","A","B","C","possibleXs","delta","deltaSqrt","sqrt","getPolarCoordinates","angle","radius","center","cos","sin","min","max","Vector","dx","dy","hypot","v","dotProduct","div","acos","crossProduct","sign","angleWith","getPolarPoint","intersectionCount","super","crossingLines","point","isShapeClockwiseOriented","sum","moveSegmentOutside","distance","sizeFactor","A2","B2","getIntersection","D","insideSegment","ABx","ABy","CDx","CDy","CAx","CAy","I","J","getT","sortedPoints","map","sort","K","I2","J2","K2","isInsideBounds","xmax","ymax","intersectLineWithCircle","intersections","lazyInit","that","initializers","values","forEach","initializer","configurable","writable","p1","p2","onCoordinatesChanged","squaredLength","Infinity","getProjectionParametricCoordinate","bounds","lineCount","addPoint","parallels","linkedShapes","updateLineBounds","includes","l1","l2","line","find","M","getKnownIntersectionWith","undefined","createFrom","getLineBounds","props","default","hovered","computed","reduce","current","concat","methods","round","component","associatedLine","crossproduct","outPoints","bound","getSquaredDistanceTo","getContrainedSnappingElements","snappingPoints","snappingLines","currentShapePoints","parameters","segments","lastPoints","reverse","lastAngle","minAngle","atan2","angleStep","getIntersectionsWithAllowedRegion","getIntersectionsWithAngleSteps","min2","minStroke","max2","maxStroke","filter","d2","snappingSegments","intersectLineWithDonut","flat","element","lastVector","pointRespectMinAngle","lowerAngleSegment","upperAngleSegment","low","up","Array","isArray","constrainToBounds","stepSegments","getStepSegments","some","existing","_","nbSteps","PI","step","radiusMin","radiusMax","intersectionsWithMax","intersectionsWithMin","constrainPointPosition","newPoint","constrainDistance","constrainAngle","basePoint","newLength","f","previousPoint","currentAngle","newAngle","stepApplied","previousVector","previousAngle","currentVector","angleFromPrevious","signedAngleWith","S","steppedMin","minAngleFromPrevious","ceil","forEachConsecutive","array","callback","startingIndex","nbArguments","mapConsecutive","transformator","transformed","removeIfAny","index","distinct","self","constrainedElements","close","class","panelClass","stopPropagation","_t","closeIcon","openedState","String","small","Boolean","$store","state","interactionState","classes","commit","eventArguments","handled","$emit","activate","listening","method","document","addEventListener","removeEventListener","keyUp","event","toLowerCase","validate","watch","toggleKeysListening","opened","components","Modal","navigator","maxTouchPoints","item","_b","label","openedItem","toggleOpening","parametersItem","linkClass","action","onMouseDown","onMouseUpOrLeave","icon","tag","shortcut","invertArrow","child","rotationClass","width","height","iconName","Number","IconBase","rotate","emptyFunction","CollapseTransition","Arrow","isEnabled","Function","onClick","onPress","onRelease","children","pressedTime","showTip","tipTimeout","$slots","hasChildren","timeStamp","clearTimeout","launchTip","setTimeout","localMinStroke","directives","rawName","expression","domProps","setMinStroke","parseInt","target","localMaxStroke","setMaxStroke","localMinAngle","setMinAngle","toRad","getStepClass","setStep","toDeg","localAngleStep","selectedAngleStep","angleValues","rad","deg","MenuItem","ParametersContent","items","new","canUndo","undo","canRedo","redo","hasShape","preview","stopPreview","export","getters","shapes","loadingWheel","downloadUrl","getShapePath","closeShape","path","createSvgFileFromShapes","size","content","loading","textContent","Blob","URL","createObjectURL","revokeObjectURL","Exporter","modalValidation","modifiers","composing","_n","updateValidity","$forceUpdate","gap","cancel","createButtonClass","preventDefault","isValid","$refs","form","checkValidity","dispatch","style","onWheel","transformMatrix","horizontalHandler","hang","verticalHandler","PanHandler","getDeltaRatio","getPan","setPan","registerMouseMove","initPan","initMouse","panning","move","drop","pageX","pageY","ratio","deltaX","deltaY","minZoom","maxZoom","barsWidth","zoom","offset","availableWidth","availableHeight","hBarPanRatio","vBarPanRatio","mouseHandler","mousePanMode","onResize","centerDrawing","EventBus","$on","$off","margin","minX","drawingWidth","minY","drawingHeight","maxX","maxY","hBarSize","xRatio","panBounds","barX","hBarMaxSize","left","vBarSize","yRatio","barY","vBarMaxSize","top","domPoint","viewer","createSVGPoint","matrixTransform","viewerContent","getScreenCTM","inverse","rect","getBoundingClientRect","ctrlKey","newZoom","ctm","relativePoint","modifier","createSVGMatrix","translate","scale","newCTM","multiply","e","margin2","screenRatio","drawingRatio","circleClass","PointType","guide","getClass","freeze","amIHovered","lineClass","DrawingPoint","DrawingLine","myModel","DebugInfo","DebugView","Tutorial","Menu","ExportModal","New","SvgViewport","Guides","debugMode","snapThreshold","downBeforeUp","shouldListenToKeyEvents","keyDown","windowLostFocus","newP","svgViewport","pointToSvg","nearestPoint","snappedPoint","nearestDistance","nearestSegment","getProjection","getSnappedPosition","getPosition","updateCurrentPoint","drawingState","showStartPoint","closeCurrentShape","keyEvent","toggleAngleSteps","repeat","initMousePan","togglePreviewMode","shiftKey","cancelCurrentShape","stopMousePan","namespaced","shapesGap","mutations","newValue","properties","shapeCount","clockwisePoints","lineMap","Map","lines","from","spacedLines","createParallelLines","AB","BC","CD","parallelLine","C2","Btemp","Ctemp","movedBC","linkParallelLines","getOrCreateIntersectionWith","newLines","newLine","myLines","use","redoStack","newShape","updateIntersections","debug","Store","strict","uiState","pop","removeAllLinks","reversed","last","actions","context","config","productionTip","store","h","App","$mount"],"mappings":"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","file":"js/app.fa9dbd2d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/spaces/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/zoom.6da0dbea.svg\";","module.exports = __webpack_public_path__ + \"img/cross.784939f4.svg\";","module.exports = __webpack_public_path__ + \"img/steps.fbe8b67c.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingLine.vue?vue&type=style&index=0&id=cecd459a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingLine.vue?vue&type=style&index=0&id=cecd459a&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgViewport.vue?vue&type=style&index=0&id=7f2576c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgViewport.vue?vue&type=style&index=0&id=7f2576c4&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=style&index=0&id=2220405a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=style&index=0&id=2220405a&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exporter.vue?vue&type=style&index=0&id=29c1fdee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exporter.vue?vue&type=style&index=0&id=29c1fdee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Menu',{attrs:{\"id\":\"menu\"}}),_c('div',{attrs:{\"id\":\"mainContent\"}},[_c('SvgViewport',{ref:\"svgViewport\"},[_c('g',{ref:\"mainGroup\",on:{\"mousemove\":function($event){return _vm.mouseMove($event)},\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.mouseDown()},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.mouseUp($event)}}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":_vm.drawingSize.x,\"height\":_vm.drawingSize.y,\"fill\":\"white\"}}),(_vm.debugMode)?_c('DebugView'):_vm._e(),_vm._l((_vm.shapes),function(shape){return _c('path',{key:shape.id,attrs:{\"d\":_vm.getPath(shape.points),\"stroke-width\":\"0\",\"fill\":\"black\"}})}),(_vm.drawingState)?[_c('path',{attrs:{\"d\":_vm.currentPath,\"stroke\":\"black\",\"fill\":\"none\",\"stroke-width\":\"1\"}}),_c('Guides'),(_vm.showStartPoint)?_c('DrawingPoint',{attrs:{\"point\":_vm.startPoint,\"type\":2,\"hovered\":_vm.hoveredElement === _vm.startPoint}}):_vm._e(),_c('DrawingPoint',{attrs:{\"point\":_vm.currentPoint,\"type\":1}})]:_vm._e()],2)]),(_vm.debugMode)?_c('DebugInfo',{attrs:{\"mouse\":_vm.mousePosition,\"cursor\":_vm.currentPoint,\"hovered\":_vm.hoveredElement}}):_vm._e()],1),_c('Tutorial',{staticClass:\"fullScreen\"}),_c('ExportModal',{staticClass:\"fullScreen\"}),_c('New',{staticClass:\"fullScreen\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Interaction States\nexport const DRAWING = 'drawing';\nexport const TUTORIAL = 'tutorial';\nexport const EXPORT = 'export';\nexport const PREVIEW = 'preview';\nexport const NEW = 'new';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"debugPanel\"}},[_c('p',[_vm._v(\"mouse : \"+_vm._s(_vm.display(_vm.mouse)))]),_c('p',[_vm._v(\"cursor : \"+_vm._s(_vm.display(_vm.cursor)))]),_c('p',[_vm._v(\"hovered : \"+_vm._s(_vm.hoveredInfos))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const epsylon = 0.001;\n\nexport function equiv(a, b) {\n\treturn Math.abs(a - b) < epsylon;\n}\n\nexport function resolve2ndDegreePolynom(A, B, C) {\n\tconst possibleXs = [];\n\tconst delta = (B ** 2) - (4 * A * C);\n\tif (delta >= 0) {\n\t\tconst deltaSqrt = Math.sqrt(delta);\n\t\tpossibleXs.push((-B - deltaSqrt) / (2 * A));\n\n\t\tif (delta > 0) {\n\t\t\tpossibleXs.push((-B + deltaSqrt) / (2 * A));\n\t\t}\n\t}\n\n\treturn possibleXs;\n}\n\nexport function getPolarCoordinates(angle, radius, center, drawingSize) {\n\tif (radius === 0) {\n\t\treturn center;\n\t}\n\n\tconst cos = Math.cos(angle);\n\tconst sin = Math.sin(angle);\n\n\tlet r = radius;\n\tlet x = (cos * r) + center.x;\n\tif (drawingSize && (x < 0 || x > drawingSize.x)) {\n\t\tx = Math.min(drawingSize.x, Math.max(0, x));\n\t\tr = (x - center.x) / cos;\n\t}\n\n\tlet y = (sin * r) + center.y;\n\tif (drawingSize && (y < 0 || y > drawingSize.y)) {\n\t\ty = Math.min(drawingSize.y, Math.max(0, y));\n\t\tr = (y - center.y) / sin;\n\t\tx = (cos * r) + center.x;\n\t}\n\n\treturn {x, y};\n}\n\nexport class Vector {\n\tconstructor(A, B) {\n\t\tthis.dx = B.x - A.x;\n\t\tthis.dy = B.y - A.y;\n\t\tthis.length = Math.hypot(this.dx, this.dy);\n\t}\n\n\tangleWith(v) {\n\t\t// =cos\n\t\tconst dotProduct = (this.dx * v.dx) + (this.dy * v.dy);\n\t\tconst div = dotProduct / (this.length * v.length);\n\t\t// Calculation imprecisions may lead to results slightly above 1 / below -1\n\t\treturn Math.acos(Math.max(-1, Math.min(1, div)));\n\t}\n\n\tsignedAngleWith(v) {\n\t\tconst crossProduct = (this.dx * v.dy) - (this.dy * v.dx);\n\t\treturn Math.sign(crossProduct) * this.angleWith(v);\n\t}\n}\n","import {equiv, getPolarCoordinates} from './Helpers/MathHelpers';\n\nexport class Point {\n\tconstructor(x, y) {\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t}\n\n\tgetSquaredDistanceTo(p) {\n\t\tconst dx = p.x - this.x;\n\t\tconst dy = p.y - this.y;\n\t\treturn (dx ** 2) + (dy ** 2);\n\t}\n\n\tequiv(p) {\n\t\treturn equiv(this.x, p.x) && equiv(this.y, p.y);\n\t}\n}\n\nexport function getPolarPoint(angle, radius, center, drawingSize) {\n\tconst {x, y} = getPolarCoordinates(angle, radius, center, drawingSize);\n\treturn new Point(x, y);\n}\n","import {Point} from './Point';\n\nlet intersectionCount = 0;\nexport class Intersection extends Point {\n\tconstructor(x, y) {\n\t\tsuper(x, y);\n\t\tthis.crossingLines = [];\n\t\tthis.id = 'P' + intersectionCount++;\n\t}\n\n\tstatic createFrom(point) {\n\t\treturn new Intersection(point.x, point.y);\n\t}\n}\n","import {Point} from '../Point';\nimport {equiv, resolve2ndDegreePolynom} from './MathHelpers';\n\n// To know which side of an edge is inside the shape\n// > the right side of an edge (points[i], points[i+1]) will be inside if clockwise is true\n// Sum over the edges, (x2-x1)(y2+y1)\n// http://en.wikipedia.org/wiki/Shoelace_formula\n// http://stackoverflow.com/questions/1165647/how-to-determine-if-a-list-of-polygon-points-are-in-clockwise-order/1165943#1165943\nexport function isShapeClockwiseOriented(points) {\n\tlet i;\n\tlet sum = 0;\n\tfor (i = 0; i < points.length - 1; i++) {\n\t\tsum += (points[i + 1].x - points[i].x) * (points[i + 1].y + points[i].y);\n\t}\n\n\tsum += (points[0].x - points[i].x) * (points[0].y + points[i].y);\n\n\treturn sum <= 0;\n}\n\n// Return a new segment A2B2 parallel to AB and distant of 'distance' at the left side of AB vector\nexport function moveSegmentOutside(A, B, distance) {\n\tlet dx = B.x - A.x;\n\tconst dy = B.y - A.y;\n\n\tif (dx === 0) {\n\t\tdx = 0.01;\n\t}\n\n\tconst x = -dy / dx;\n\tlet sizeFactor = distance / Math.sqrt((x * x) + 1);\n\n\tif (dx > 0) { // Or dx < 0 if not clockwise\n\t\tsizeFactor *= -1;\n\t}\n\n\treturn {\n\t\tA2: new Point((sizeFactor * x) + A.x, sizeFactor + A.y),\n\t\tB2: new Point((sizeFactor * x) + B.x, sizeFactor + B.y)\n\t};\n}\n\n// Return intersection point between AB and CD\nexport function getIntersection(A, B, C, D, insideSegment) {\n\tconst ABx = B.x - A.x;\n\tconst ABy = B.y - A.y;\n\tconst CDx = D.x - C.x;\n\tconst CDy = D.y - C.y;\n\tconst CAx = A.x - C.x;\n\tconst CAy = A.y - C.y;\n\n\tconst I = (CDy * CAx) - (CDx * CAy);\n\tconst J = (CDx * ABy) - (CDy * ABx);\n\n\tif (equiv(J, 0)) {\n\t\tif (equiv(I, 0)) {\n\t\t\t// AB and CD are collinear\n\n\t\t\tif (insideSegment) {\n\t\t\t\t// Find the two inner points by comparing their parameter 't'\n\t\t\t\t// in the line's parametric equation\n\n\t\t\t\tconst getT = equiv(A.x, B.x) ?\n\t\t\t\t\t(p => (p.y - A.y) / ABy) :\n\t\t\t\t\t(p => (p.x - A.x) / ABx);\n\n\t\t\t\tconst sortedPoints = [A, B, C, D]\n\t\t\t\t\t.map(p => ({point: p, t: getT(p)}))\n\t\t\t\t\t.sort((a, b) => a.t - b.t)\n\t\t\t\t\t.map(p => p.point);\n\n\t\t\t\tif (sortedPoints[1] === sortedPoints[2]) {\n\t\t\t\t\treturn sortedPoints[1];\n\t\t\t\t}\n\n\t\t\t\treturn [sortedPoints[1], sortedPoints[2]];\n\t\t\t}\n\n\t\t\t// Avoid intersections calculations since we already know the line\n\t\t\treturn [A, B];\n\t\t}\n\n\t\t// AB parallel to CD\n\t\treturn undefined;\n\t}\n\n\tconst K = I / J;\n\tif (insideSegment && (K < 0 || K > 1)) {\n\t\t// The intersection is outside AB\n\t\treturn undefined;\n\t}\n\n\tif (equiv(K, 0)) {\n\t\treturn A;\n\t}\n\n\tif (equiv(K, 1)) {\n\t\treturn B;\n\t}\n\n\t// Get the parameter K2 relative to CD\n\tconst I2 = (ABy * (-CAx)) - (ABx * (-CAy));\n\tconst J2 = -J;\n\tconst K2 = I2 / J2;\n\tif (insideSegment && (K2 < 0 || K2 > 1)) {\n\t\t// The intersection is outside CD\n\t\treturn undefined;\n\t}\n\n\tif (equiv(K2, 0)) {\n\t\treturn C;\n\t}\n\n\tif (equiv(K2, 1)) {\n\t\treturn D;\n\t}\n\n\treturn new Point(A.x + (ABx * K), A.y + (ABy * K));\n}\n\nexport function isInsideBounds(point, xmax, ymax) {\n\treturn point.x >= 0 &&\n\t\tpoint.x <= xmax &&\n\t\tpoint.y >= 0 &&\n\t\tpoint.y <= ymax;\n}\n\nexport function intersectLineWithCircle(l, center, radius) {\n\tif (l.dx === 0) {\n\t\tconst x = l.intersections[0].x;\n\t\treturn resolve2ndDegreePolynom(\n\t\t\t1,\n\t\t\t-2 * center.y,\n\t\t\t(center.y ** 2) + ((x - center.x) ** 2) - (radius ** 2)\n\t\t)\n\t\t\t.map(y => new Point(x, y));\n\t}\n\n\treturn resolve2ndDegreePolynom(\n\t\t1 + (l.a ** 2),\n\t\t2 * ((l.a * (l.b - center.y)) - center.x),\n\t\t(center.x ** 2) + ((l.b - center.y) ** 2) - (radius ** 2)\n\t)\n\t\t.map(x => new Point(x, l.y(x)));\n}\n","// Adds lazy getters to instance\nexport function lazyInit(that, initializers) {\n\tObject.values(initializers)\n\t\t.forEach(initializer => {\n\t\t\tObject.defineProperty(that, initializer.name, {\n\t\t\t\tget() {\n\t\t\t\t\tObject.defineProperty(that, initializer.name, {\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tvalue: initializer.apply(that),\n\t\t\t\t\t\twritable: true\n\t\t\t\t\t});\n\t\t\t\t\treturn that[initializer.name];\n\t\t\t\t},\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true\n\t\t\t});\n\t\t});\n}\n","import {Point} from './Point';\nimport {equiv} from './Helpers/MathHelpers';\nimport {isInsideBounds} from './Helpers/GeometryHelpers';\nimport {lazyInit} from './Helpers/LazyInit';\n\nexport class LineBase {\n\tconstructor(p1, p2) {\n\t\tthis.A = p1;\n\t\tthis.B = p2;\n\t\tthis.onCoordinatesChanged();\n\t}\n\n\tonCoordinatesChanged() {\n\t\t// The line function is (y = ax + b)\n\t\tlazyInit(this, {\n\t\t\tdx: () => this.B.x - this.A.x,\n\t\t\tdy: () => this.B.y - this.A.y,\n\t\t\ta: () => this.dy / this.dx,\n\t\t\tb: () => this.A.y - (this.a * this.A.x),\n\t\t\tsquaredLength: () => (this.dx ** 2) + (this.dy ** 2)\n\t\t});\n\t}\n\n\ty(x) {\n\t\tif (this.dx === 0) {\n\t\t\treturn Infinity;\n\t\t}\n\n\t\treturn (this.a * x) + this.b;\n\t}\n\n\tx(y) {\n\t\tif (this.dx === 0) {\n\t\t\treturn this.A.x;\n\t\t}\n\n\t\tif (this.dy === 0) {\n\t\t\treturn Infinity;\n\t\t}\n\n\t\treturn (y - this.b) / this.a;\n\t}\n\n\tincludes(p) {\n\t\treturn (this.dx !== 0 && equiv(p.y, this.y(p.x))) ||\n\t\t\t(this.dy !== 0 && equiv(p.x, this.x(p.y)));\n\t}\n\n\t// See https://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\n\tgetProjection(p) {\n\t\tconst t = this.getProjectionParametricCoordinate(p);\n\t\treturn new Point(\n\t\t\tthis.A.x + (t * this.dx),\n\t\t\tthis.A.y + (t * this.dy)\n\t\t);\n\t}\n\n\tgetProjectionParametricCoordinate(p) {\n\t\treturn (((p.x - this.A.x) * this.dx) + ((p.y - this.A.y) * this.dy)) / this.squaredLength;\n\t}\n\n\tgetLineBounds(xmax, ymax) {\n\t\t// Handle special cases\n\t\tif (this.dx === 0) {\n\t\t\treturn [new Point(this.A.x, 0), new Point(this.A.x, ymax)];\n\t\t}\n\n\t\tif (this.dy === 0) {\n\t\t\treturn [new Point(0, this.A.y), new Point(xmax, this.A.y)];\n\t\t}\n\n\t\t// Compute the guide's function intersections with frame borders\n\t\tconst intersections = [\n\t\t\tnew Point(0, this.y(0)), // I_xmin\n\t\t\tnew Point(this.x(0), 0), // I_ymin\n\t\t\tnew Point(xmax, this.y(xmax)), // I_xmax\n\t\t\tnew Point(this.x(ymax), ymax) // I_ymax\n\t\t];\n\n\t\t// Line 'bounds' are the intersections that are still inside the frame\n\t\tconst bounds = [];\n\t\tintersections.forEach(p => {\n\t\t\tif (bounds.length === 0 ||\n\t\t\t\t\t(bounds.length === 1 &&\n\t\t\t\t\t\tp.x !== bounds[0].x &&\n\t\t\t\t\t\tp.y !== bounds[0].y)) {\n\t\t\t\tif (isInsideBounds(p, xmax, ymax)) {\n\t\t\t\t\tbounds.push(p);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn bounds;\n\t}\n}\n","import {Point} from './Point';\nimport {Intersection} from './Intersection';\nimport {LineBase} from './LineBase';\nimport {getIntersection} from './Helpers/GeometryHelpers';\n\nlet lineCount = 0;\nexport class Line extends LineBase {\n\tconstructor(p1, p2, xmax, ymax) {\n\t\tsuper(p1, p2);\n\n\t\tthis.intersections = [];\n\t\tthis.addPoint(p1);\n\t\tthis.addPoint(p2);\n\t\tthis.parallels = [];\n\t\tthis.linkedShapes = [];\n\n\t\tthis.updateLineBounds(xmax, ymax);\n\n\t\tthis.id = 'L' + lineCount++;\n\t}\n\n\taddPoint(p) {\n\t\tif (p instanceof Intersection) {\n\t\t\tif (!this.intersections.includes(p)) {\n\t\t\t\tthis.intersections.push(p);\n\t\t\t}\n\n\t\t\tif (!p.crossingLines.includes(this)) {\n\t\t\t\tp.crossingLines.push(this);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic linkParallelLines(l1, l2) {\n\t\tif (!l1.parallels.includes(l2)) {\n\t\t\tl1.parallels.push(l2);\n\t\t\tl2.parallels.push(l1);\n\t\t}\n\t}\n\n\tincludes(p) {\n\t\treturn this.intersections.includes(p) || super.includes(p);\n\t}\n\n\tgetKnownIntersectionWith(line) {\n\t\treturn this.intersections.find(i => i.crossingLines.includes(line));\n\t}\n\n\tgetOrCreateIntersectionWith(line) {\n\t\tlet M = this.getKnownIntersectionWith(line);\n\t\tif (M === undefined) {\n\t\t\tM = getIntersection(\n\t\t\t\tthis.intersections[0],\n\t\t\t\tthis.intersections[1],\n\t\t\t\tline.intersections[0],\n\t\t\t\tline.intersections[1]);\n\n\t\t\tif (M instanceof Point) {\n\t\t\t\tconst I = Intersection.createFrom(M);\n\t\t\t\tthis.addPoint(I);\n\t\t\t\tline.addPoint(I);\n\t\t\t}\n\t\t}\n\n\t\treturn M;\n\t}\n\n\tupdateLineBounds(xmax, ymax) {\n\t\tthis.bounds = this.getLineBounds(xmax, ymax);\n\t}\n}\n","<template>\n\t<div id=\"debugPanel\">\n\t\t<p>mouse\t: {{ display(mouse) }}</p>\n\t\t<p>cursor\t: {{ display(cursor) }}</p>\n\t\t<p>hovered\t: {{ hoveredInfos }}</p>\n\t</div>\n</template>\n\n<script>\nimport {Point} from '../../core/Point';\nimport {Intersection} from '../../core/Intersection';\nimport {Line} from '../../core/Line';\n\nexport default {\n\tname: 'DebugInfo',\n\tprops: {\n\t\tmouse: {\n\t\t\ttype: Object,\n\t\t\tdefault: new Point()\n\t\t},\n\t\tcursor: {\n\t\t\ttype: Object,\n\t\t\tdefault: new Point()\n\t\t},\n\t\thovered: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thoveredInfos() {\n\t\t\tif (this.hovered instanceof Intersection) {\n\t\t\t\treturn this.hovered.id +\n\t\t\t\t\t' > ' +\n\t\t\t\t\tthis.hovered.crossingLines.reduce(\n\t\t\t\t\t\t(a, current) => {\n\t\t\t\t\t\t\tlet concat = a;\n\t\t\t\t\t\t\tif (concat !== '') {\n\t\t\t\t\t\t\t\tconcat += ', ';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconcat += current.id;\n\t\t\t\t\t\t\treturn concat;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t''\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.hovered instanceof Line) {\n\t\t\t\treturn this.hovered.id;\n\t\t\t}\n\n\t\t\treturn '-';\n\t\t}\n\t},\n\tmethods: {\n\t\tround(x) {\n\t\t\treturn Math.round(x * 100) / 100;\n\t\t},\n\t\tdisplay(p) {\n\t\t\treturn `(${this.round(p.x)},\t${this.round(p.y)})`;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n#debugPanel {\n\tposition: absolute;\n\ttop: 5px;\n\tleft: 5px;\n\tbackground: #9999;\n\tpadding: 7px 10px;\n\tborder-radius: 5px;\n\tmin-width: 180px;\n}\n\np {\n\tmargin: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DebugInfo.vue?vue&type=template&id=3b563d46&scoped=true&\"\nimport script from \"./DebugInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./DebugInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DebugInfo.vue?vue&type=style&index=0&id=3b563d46&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b563d46\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{attrs:{\"id\":\"DebugView\"}},[_vm._l((_vm.stepSegments),function(s){return _c('line',{key:s.id,attrs:{\"x1\":s.A.x,\"y1\":s.A.y,\"x2\":s.B.x,\"y2\":s.B.y,\"stroke-width\":\"4\",\"stroke\":\"#00ff0022\"}})}),_vm._l((_vm.snappingSegments),function(s){return _c('line',{key:s.id,attrs:{\"x1\":s.A.x,\"y1\":s.A.y,\"x2\":s.B.x,\"y2\":s.B.y,\"stroke-width\":\"4\",\"stroke\":\"#ff000033\"}})}),_vm._l((_vm.snappingPoints),function(p){return _c('circle',{key:p.id,attrs:{\"cx\":p.x,\"cy\":p.y,\"r\":\"6\",\"fill\":\"#ff000033\"}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {Point} from './Point';\nimport {LineBase} from './LineBase';\nimport {equiv} from './Helpers/MathHelpers';\nimport {isInsideBounds} from './Helpers/GeometryHelpers';\n\nexport class Segment extends LineBase {\n\tconstructor(A, B, associatedLine) {\n\t\tsuper(A, B);\n\n\t\tthis.associatedLine = associatedLine;\n\t}\n\n\tincludes(p) {\n\t\tconst crossproduct = ((p.y - this.A.y) * this.dx) - ((p.x - this.A.x) * this.dy);\n\t\treturn equiv(Math.abs(crossproduct), 0) &&\n\t\t\tp.x >= Math.min(this.A.x, this.B.x) &&\n\t\t\tp.x <= Math.max(this.A.x, this.B.x) &&\n\t\t\tp.y >= Math.min(this.A.y, this.B.y) &&\n\t\t\tp.y <= Math.max(this.A.y, this.B.y);\n\t}\n\n\tgetProjection(p) {\n\t\tconst t = this.getProjectionParametricCoordinate(p);\n\n\t\tif (t <= 0) {\n\t\t\treturn this.A;\n\t\t}\n\n\t\tif (t >= 1) {\n\t\t\treturn this.B;\n\t\t}\n\n\t\treturn new Point(\n\t\t\tthis.A.x + (t * this.dx),\n\t\t\tthis.A.y + (t * this.dy)\n\t\t);\n\t}\n\n\tconstrainToBounds(xmax, ymax) {\n\t\tconst outPoints = [];\n\t\tif (!isInsideBounds(this.A, xmax, ymax)) {\n\t\t\toutPoints.push(this.A);\n\t\t}\n\n\t\tif (!isInsideBounds(this.B, xmax, ymax)) {\n\t\t\toutPoints.push(this.B);\n\t\t}\n\n\t\tif (outPoints.length > 0) {\n\t\t\tconst bounds = this.getLineBounds(xmax, ymax);\n\n\t\t\toutPoints.forEach(p => {\n\t\t\t\tlet bound;\n\t\t\t\tif (bounds.length !== 2) {\n\t\t\t\t\tbound = {x: 0, y: 0};\n\t\t\t\t} else if (p.getSquaredDistanceTo(bounds[0]) < p.getSquaredDistanceTo(bounds[1])) {\n\t\t\t\t\tbound = bounds[0];\n\t\t\t\t} else {\n\t\t\t\t\tbound = bounds[1];\n\t\t\t\t}\n\n\t\t\t\tp.x = bound.x;\n\t\t\t\tp.y = bound.y;\n\t\t\t});\n\n\t\t\tthis.onCoordinatesChanged();\n\t\t}\n\t}\n}\n","import {Point, getPolarPoint} from './Point';\nimport {Intersection} from './Intersection';\nimport {Segment} from './Segment';\nimport * as Geometry from './Helpers/GeometryHelpers';\nimport {Vector} from './Helpers/MathHelpers';\n\n// Restricts snapping elements to allowed regions\nexport function getContrainedSnappingElements(snappingPoints, snappingLines, currentShapePoints, parameters) {\n\tif (currentShapePoints.length === 0) {\n\t\treturn {\n\t\t\tpoints: snappingPoints,\n\t\t\tsegments: snappingLines\n\t\t};\n\t}\n\n\tconst lastPoints = currentShapePoints.slice(-2).reverse();\n\tlet lastAngle;\n\tif (parameters.minAngle > 0 && lastPoints.length > 1) {\n\t\tlastAngle = Math.atan2(\n\t\t\tlastPoints[1].y - lastPoints[0].y,\n\t\t\tlastPoints[1].x - lastPoints[0].x);\n\t}\n\n\tif (parameters.angleStep === 0) {\n\t\treturn getIntersectionsWithAllowedRegion(snappingPoints, snappingLines, lastPoints, lastAngle, parameters);\n\t}\n\n\treturn getIntersectionsWithAngleSteps(snappingPoints, snappingLines, lastPoints, lastAngle, parameters);\n}\n\n// Restricts snapping elements to min/max stroke torus (exluding minAngle dead zone)\nexport function getIntersectionsWithAllowedRegion(snappingPoints, snappingLines, lastPoints, lastAngle, parameters) {\n\t// Apply length constraint to points\n\tconst min2 = parameters.minStroke ** 2;\n\tconst max2 = parameters.maxStroke ** 2;\n\tsnappingPoints = snappingPoints.filter(p => {\n\t\tconst d2 = lastPoints[0].getSquaredDistanceTo(p);\n\t\treturn \td2 > min2 && d2 <= max2;\n\t});\n\n\t// Apply length constraint\n\t// bound each line to the intersections with min and max circles\n\tlet snappingSegments = [];\n\n\tsnappingLines\n\t\t.map(l => intersectLineWithDonut(l, lastPoints[0], parameters.minStroke, parameters.maxStroke))\n\t\t.flat()\n\t\t.forEach(element => {\n\t\t\tif (element instanceof Point) {\n\t\t\t\tsnappingPoints.push(element);\n\t\t\t} else if (element instanceof Segment) {\n\t\t\t\tsnappingSegments.push(element);\n\t\t\t}\n\t\t});\n\n\tif (lastAngle !== undefined) {\n\t\tconst lastVector = new Vector(lastPoints[0], lastPoints[1]);\n\t\tconst pointRespectMinAngle = p => {\n\t\t\tconst angle = lastVector.angleWith(new Vector(lastPoints[0], p));\n\t\t\treturn angle >= parameters.minAngle;\n\t\t};\n\n\t\t// Apply min-angle constraint to points\n\t\tsnappingPoints = snappingPoints.filter(p => pointRespectMinAngle(p));\n\n\t\t// Apply min-angle constraint to each segments\n\t\t// if it has one intersection with the 'dead-angle' bounds\n\t\t// > change the segment bound that doesn't respect the constraint to this intersection\n\t\t// if it has two intersections\n\t\t// > return two segments to leave the space between intersections empty\n\t\tconst lowerAngleSegment =\n\t\t\tnew Segment(\n\t\t\t\tlastPoints[0],\n\t\t\t\tgetPolarPoint(\n\t\t\t\t\tlastAngle - parameters.minAngle,\n\t\t\t\t\tparameters.maxStroke,\n\t\t\t\t\tlastPoints[0])\n\t\t\t);\n\n\t\tconst upperAngleSegment =\n\t\t\tnew Segment(\n\t\t\t\tlastPoints[0],\n\t\t\t\tgetPolarPoint(\n\t\t\t\t\tlastAngle + parameters.minAngle,\n\t\t\t\t\tparameters.maxStroke,\n\t\t\t\t\tlastPoints[0])\n\t\t\t);\n\n\t\tsnappingSegments = snappingSegments.map(s => {\n\t\t\tconst low = Geometry.getIntersection(s.A, s.B, lowerAngleSegment.A, lowerAngleSegment.B, true);\n\t\t\tconst up = Geometry.getIntersection(s.A, s.B, upperAngleSegment.A, upperAngleSegment.B, true);\n\t\t\tconst intersections = [low, up].filter(p => p);\n\n\t\t\tif (intersections.length === 0) {\n\t\t\t\treturn pointRespectMinAngle(s.A) ? [s] : [];\n\t\t\t}\n\n\t\t\tif (intersections.length === 1) {\n\t\t\t\tconst i = intersections[0];\n\t\t\t\tif (Array.isArray(i) && i.length === 2) {\n\t\t\t\t\treturn new Segment(i[0], i[1]);\n\t\t\t\t}\n\n\t\t\t\tif (pointRespectMinAngle(s.A)) {\n\t\t\t\t\treturn [new Segment(s.A, i, s.associatedLine)];\n\t\t\t\t}\n\n\t\t\t\treturn [new Segment(s.B, i, s.associatedLine)];\n\t\t\t}\n\n\t\t\tconst points = [s.A, s.B, intersections[0], intersections[1]];\n\n\t\t\tif (s.A.x - s.B.x === 0) {\n\t\t\t\tpoints.sort((m, n) => m.y - n.y);\n\t\t\t} else {\n\t\t\t\tpoints.sort((m, n) => m.x - n.x);\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\tnew Segment(points[0], points[1], s.associatedLine),\n\t\t\t\tnew Segment(points[2], points[3], s.associatedLine)\n\t\t\t];\n\t\t}).flat();\n\t}\n\n\tsnappingSegments\n\t\t.forEach(s => {\n\t\t\tif (s instanceof Segment) {\n\t\t\t\ts.constrainToBounds(parameters.drawingSize.x, parameters.drawingSize.y);\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tpoints: snappingPoints.filter(p => p),\n\t\tsegments: snappingSegments.filter(s => s)\n\t};\n}\n\n// Restricts snapping elements to angle steps segments from lastPoint (excluding minAngle dead zone)\nexport function getIntersectionsWithAngleSteps(snappingPoints, snappingLines, lastPoints, lastAngle, parameters) {\n\tconst stepSegments = getStepSegments(lastPoints, lastAngle, parameters);\n\n\tconst points = snappingPoints.filter(p => p !== lastPoints[0] && stepSegments.some(s => s.includes(p)));\n\tconst segments = [];\n\n\tconst addPoint = p => {\n\t\tif (!points.includes(p) && p !== lastPoints[0]) {\n\t\t\tpoints.push(p);\n\t\t}\n\t};\n\n\tsnappingLines\n\t\t.forEach(l =>\n\t\t\tstepSegments.forEach(s => {\n\t\t\t\tconst p = Geometry.getIntersection(s.A, s.B, l.bounds[0], l.bounds[1], true);\n\n\t\t\t\tif (p instanceof Intersection) {\n\t\t\t\t\taddPoint(p);\n\t\t\t\t} else if (p instanceof Point && !p.equiv(lastPoints[0])) {\n\t\t\t\t\t// Search an existing equivalent for this point\n\t\t\t\t\tconst existing = l.intersections.filter(i => i.equiv(p));\n\n\t\t\t\t\tif (existing.length > 0 && existing[0]) {\n\t\t\t\t\t\taddPoint(existing[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst i = Intersection.createFrom(p);\n\t\t\t\t\t\ti.crossingLines.push(l);\n\t\t\t\t\t\taddPoint(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(p) && p.length === 2) {\n\t\t\t\t\tsegments.push(new Segment(p[0], p[1]));\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\treturn {points, segments};\n}\n\n// Projects lines for every step angle from the last point\n// excluding parts inside minStroke radius and outside maxStroke radius\n// and parts outside drawing bounds\nexport function getStepSegments(lastPoints, lastAngle, parameters) {\n\tlet pointRespectMinAngle = _ => true;\n\n\tif (lastPoints.length > 1) {\n\t\tconst lastVector = new Vector(lastPoints[0], lastPoints[1]);\n\t\tpointRespectMinAngle = p => {\n\t\t\tconst angle = lastVector.angleWith(new Vector(lastPoints[0], p));\n\t\t\treturn angle >= parameters.minAngle;\n\t\t};\n\t}\n\n\tconst stepSegments = [];\n\tconst nbSteps = Math.round(Math.PI / parameters.angleStep);\n\tfor (let step = 0; step < nbSteps; step++) {\n\t\tconst i = step * parameters.angleStep;\n\t\tconst j = i - Math.PI;\n\t\tconst A = getPolarPoint(i, parameters.maxStroke, lastPoints[0], parameters.drawingSize);\n\t\tconst B = getPolarPoint(i, parameters.minStroke, lastPoints[0], parameters.drawingSize);\n\t\tconst C = getPolarPoint(j, parameters.minStroke, lastPoints[0], parameters.drawingSize);\n\t\tconst D = getPolarPoint(j, parameters.maxStroke, lastPoints[0], parameters.drawingSize);\n\n\t\tif (parameters.minStroke === 0) {\n\t\t\tlet p1 = A;\n\t\t\tlet p2 = D;\n\n\t\t\tif (lastAngle !== undefined && parameters.minAngle > 0) {\n\t\t\t\tif (!pointRespectMinAngle(p1)) {\n\t\t\t\t\tp1 = lastPoints[0];\n\t\t\t\t}\n\n\t\t\t\tif (!pointRespectMinAngle(p2)) {\n\t\t\t\t\tp2 = lastPoints[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p1 !== p2) {\n\t\t\t\tstepSegments.push(new Segment(p1, p2));\n\t\t\t}\n\t\t} else {\n\t\t\tif (parameters.minAngle === 0 || pointRespectMinAngle(A)) {\n\t\t\t\tstepSegments.push(new Segment(A, B));\n\t\t\t}\n\n\t\t\tif (parameters.minAngle === 0 || pointRespectMinAngle(D)) {\n\t\t\t\tstepSegments.push(new Segment(C, D));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn stepSegments;\n}\n\nexport function intersectLineWithDonut(l, center, radiusMin, radiusMax) {\n\tconst intersectionsWithMax = Geometry.intersectLineWithCircle(l, center, radiusMax);\n\tif (intersectionsWithMax.length <= 1) {\n\t\treturn intersectionsWithMax;\n\t}\n\n\tlet intersectionsWithMin = [];\n\tif (radiusMin > 0) {\n\t\tintersectionsWithMin = Geometry.intersectLineWithCircle(l, center, radiusMin);\n\t}\n\n\tif (intersectionsWithMin.length <= 1) {\n\t\treturn [new Segment(intersectionsWithMax[0], intersectionsWithMax[1], l)];\n\t}\n\n\treturn [\n\t\tnew Segment(intersectionsWithMax[0], intersectionsWithMin[0], l),\n\t\tnew Segment(intersectionsWithMax[1], intersectionsWithMin[1], l)\n\t];\n}\n\n// Restrict point position to allowed regions by parameters\nexport function constrainPointPosition(p, currentShapePoints, parameters) {\n\tif (currentShapePoints.length > 0) {\n\t\tconst lastPoints = currentShapePoints.slice(-2).reverse();\n\n\t\tlet newPoint = constrainDistance(\n\t\t\tlastPoints[0],\n\t\t\tp,\n\t\t\tparameters.minStroke,\n\t\t\tparameters.maxStroke\n\t\t);\n\t\tnewPoint = constrainAngle(\n\t\t\tlastPoints[0],\n\t\t\tnewPoint,\n\t\t\tlastPoints[1],\n\t\t\tparameters.minAngle,\n\t\t\tparameters.angleStep\n\t\t);\n\t\treturn newPoint;\n\t}\n\n\treturn p;\n}\n\n// Return new position for p so that the (basePoint, p) length is between min and max\nexport function constrainDistance(basePoint, p, min, max) {\n\tconst dx = p.x - basePoint.x;\n\tconst dy = p.y - basePoint.y;\n\n\tif (dx === 0 && dy === 0 && min > 0) {\n\t\treturn new Point(p.x, p.y - min);\n\t}\n\n\tconst squaredLength = (dx ** 2) + (dy ** 2);\n\tconst newLength = Math.max(min ** 2, Math.min(max ** 2, squaredLength));\n\tif (newLength === squaredLength) {\n\t\treturn p;\n\t}\n\n\tconst f = Math.sqrt(newLength / squaredLength) - 1;\n\treturn new Point(\n\t\tp.x + (f * dx),\n\t\tp.y + (f * dy)\n\t);\n}\n\n// Return new position for p so that the (this, p) angle with screen is aligned to 'steps' ticks\n// and that the angle (previousPoint, this, p) is at least of 'min'\nexport function constrainAngle(basePoint, p, previousPoint, min, step) {\n\tconst dx = p.x - basePoint.x;\n\tconst dy = p.y - basePoint.y;\n\n\tconst currentAngle = Math.atan2(dy, dx);\n\n\tlet newAngle = currentAngle;\n\tlet stepApplied = false;\n\tif (previousPoint !== undefined && min > 0) {\n\t\tconst previousVector = new Vector(basePoint, previousPoint);\n\t\tconst previousAngle = Math.atan2(previousVector.dy, previousVector.dx);\n\t\tconst currentVector = new Vector(basePoint, p);\n\t\tconst angleFromPrevious = previousVector.signedAngleWith(currentVector);\n\n\t\tconst S = Math.sign(angleFromPrevious);\n\t\tlet steppedMin = previousAngle + (min * S);\n\t\tlet minAngleFromPrevious = (min * S);\n\t\tif (step > 0) {\n\t\t\tsteppedMin = Math.ceil(steppedMin / step) * step;\n\t\t\tif (S < 0) {\n\t\t\t\tsteppedMin -= step;\n\t\t\t}\n\n\t\t\tminAngleFromPrevious = (steppedMin - previousAngle) / S;\n\t\t}\n\n\t\tif (Math.abs(angleFromPrevious) < Math.abs(minAngleFromPrevious)) {\n\t\t\tnewAngle = steppedMin;\n\t\t\tstepApplied = true;\n\t\t}\n\t}\n\n\tif (step > 0 && !stepApplied) {\n\t\tnewAngle = Math.round(newAngle / step) * step;\n\t}\n\n\tif (newAngle !== currentAngle) {\n\t\tconst length = Math.hypot(dx, dy);\n\t\treturn new Point(\n\t\t\tbasePoint.x + (length * Math.cos(newAngle)),\n\t\t\tbasePoint.y + (length * Math.sin(newAngle))\n\t\t);\n\t}\n\n\treturn p;\n}\n","\n// Loop over array to find its i-th element\nexport function loopedGet(array, i) {\n\tconst l = array.length;\n\tlet index = i;\n\twhile (index < 0) {\n\t\tindex += l;\n\t}\n\n\treturn array[index % l];\n}\n\n// Call a function to consecutive elements of an array (looping)\nexport function forEachConsecutive(array, callback, startingIndex) {\n\tconst l = array.length;\n\tconst nbArguments = callback.length;\n\tstartingIndex = startingIndex || 0;\n\twhile (startingIndex < 0) {\n\t\tstartingIndex += l;\n\t}\n\n\tfor (let i = startingIndex; i !== (l + startingIndex); ++i) {\n\t\tconst parameters = [];\n\t\tfor (let j = 0; j !== nbArguments; j++) {\n\t\t\tparameters.push(array[(i + j) % l]);\n\t\t}\n\n\t\tcallback(...parameters);\n\t}\n}\n\n// Apply a transformation function to consecutive elements of an array (looping)\nexport function mapConsecutive(array, transformator) {\n\tconst transformed = [];\n\tconst l = array.length;\n\tconst nbArguments = transformator.length;\n\tfor (let i = 0; i !== l; ++i) {\n\t\tconst parameters = [];\n\t\tfor (let j = 0; j !== nbArguments; j++) {\n\t\t\tparameters.push(array[(i + j) % l]);\n\t\t}\n\n\t\ttransformed.push(transformator(...parameters));\n\t}\n\n\treturn transformed;\n}\n\n// Removes first occurence 'element' from the array if found\nexport function removeIfAny(array, element) {\n\tconst index = array.indexOf(element);\n\tif (index >= 0) {\n\t\tarray.splice(index, 1);\n\t}\n}\n\n// Filter method : only first occurence of an object will be returned\n// usage: myArray.filter(distinct)\nexport function distinct(value, index, self) {\n\treturn self.indexOf(value) === index;\n}\n","<template>\n\t<g id=\"DebugView\">\n\t\t<line\n\t\t\tv-for=\"s in stepSegments\"\n\t\t\t:key=\"s.id\"\n\t\t\t:x1=\"s.A.x\"\n\t\t\t:y1=\"s.A.y\"\n\t\t\t:x2=\"s.B.x\"\n\t\t\t:y2=\"s.B.y\"\n\t\t\tstroke-width=\"4\"\n\t\t\tstroke=\"#00ff0022\"\n\t\t/>\n\n\t\t<line\n\t\t\tv-for=\"s in snappingSegments\"\n\t\t\t:key=\"s.id\"\n\t\t\t:x1=\"s.A.x\"\n\t\t\t:y1=\"s.A.y\"\n\t\t\t:x2=\"s.B.x\"\n\t\t\t:y2=\"s.B.y\"\n\t\t\tstroke-width=\"4\"\n\t\t\tstroke=\"#ff000033\"\n\t\t/>\n\n\t\t<circle\n\t\t\tv-for=\"p in snappingPoints\"\n\t\t\t:key=\"p.id\"\n\t\t\t:cx=\"p.x\"\n\t\t\t:cy=\"p.y\"\n\t\t\tr=\"6\"\n\t\t\tfill=\"#ff000033\"\n\t\t/>\n\t</g>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex';\n\nimport {Point, getPolarPoint} from '../../core/Point';\nimport {Line} from '../../core/Line';\nimport {Segment} from '../../core/Segment';\nimport {getStepSegments} from '../../core/Constraint';\nimport {distinct} from '../../core/Helpers/ArrayHelpers';\n\nexport default {\n\tname: 'DebugView',\n\tcomputed: {\n\t\tsnappingPoints() {\n\t\t\treturn this.constrainedElements.points\n\t\t\t\t.filter(p => p)\n\t\t\t\t.filter(distinct)\n\t\t\t\t.map(p => ({\n\t\t\t\t\tid: 'tmp' + p.id,\n\t\t\t\t\tx: p.x,\n\t\t\t\t\ty: p.y\n\t\t\t\t}));\n\t\t},\n\t\tsnappingSegments() {\n\t\t\treturn this.constrainedElements.segments.filter(s => s)\n\t\t\t\t.filter(distinct)\n\t\t\t\t.map((s, i) => {\n\t\t\t\t\tlet id = 'tmp';\n\t\t\t\t\tlet A = new Point();\n\t\t\t\t\tlet B = new Point();\n\n\t\t\t\t\tif (s instanceof Line) {\n\t\t\t\t\t\tid += s.id;\n\t\t\t\t\t\tA = s.bounds[0];\n\t\t\t\t\t\tB = s.bounds[1];\n\t\t\t\t\t} else if (s instanceof Segment) {\n\t\t\t\t\t\tid += 'Seg' + i;\n\t\t\t\t\t\tA = s.A;\n\t\t\t\t\t\tB = s.B;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {id, A, B};\n\t\t\t\t});\n\t\t},\n\t\tstepSegments() {\n\t\t\tif (this.currentShapePoints.length > 0) {\n\t\t\t\tconst lastPoints = this.currentShapePoints.slice(-2).reverse();\n\t\t\t\tlet lastAngle;\n\t\t\t\tif (this.minAngle > 0 && lastPoints.length > 1) {\n\t\t\t\t\tlastAngle = Math.atan2(\n\t\t\t\t\t\tlastPoints[1].y - lastPoints[0].y,\n\t\t\t\t\t\tlastPoints[1].x - lastPoints[0].x);\n\t\t\t\t}\n\n\t\t\t\tif (this.angleStep > 0) {\n\t\t\t\t\treturn getStepSegments(\n\t\t\t\t\t\tlastPoints,\n\t\t\t\t\t\tlastAngle,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdrawingSize: this.drawingSize,\n\t\t\t\t\t\t\tminStroke: this.minStroke,\n\t\t\t\t\t\t\tmaxStroke: this.maxStroke,\n\t\t\t\t\t\t\tminAngle: this.minAngle,\n\t\t\t\t\t\t\tangleStep: this.angleStep\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map((s, i) => ({\n\t\t\t\t\t\t\tid: 'Seg' + i,\n\t\t\t\t\t\t\tA: s.A,\n\t\t\t\t\t\t\tB: s.B\n\t\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tconst lowerAngleSegment =\n\t\t\t\t\t\tnew Segment(\n\t\t\t\t\t\t\tlastPoints[0],\n\t\t\t\t\t\t\tgetPolarPoint(\n\t\t\t\t\t\t\t\tlastAngle - this.minAngle,\n\t\t\t\t\t\t\t\tthis.maxStroke,\n\t\t\t\t\t\t\t\tlastPoints[0])\n\t\t\t\t\t\t);\n\n\t\t\t\t\tconst upperAngleSegment =\n\t\t\t\t\t\tnew Segment(\n\t\t\t\t\t\t\tlastPoints[0],\n\t\t\t\t\t\t\tgetPolarPoint(\n\t\t\t\t\t\t\t\tlastAngle + this.minAngle,\n\t\t\t\t\t\t\t\tthis.maxStroke,\n\t\t\t\t\t\t\t\tlastPoints[0])\n\t\t\t\t\t\t);\n\n\t\t\t\t\treturn [lowerAngleSegment, upperAngleSegment];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t\t...mapState(['currentShapePoints']),\n\t\t...mapState('parameters', [\n\t\t\t'drawingSize',\n\t\t\t'minStroke',\n\t\t\t'maxStroke',\n\t\t\t'minAngle',\n\t\t\t'angleStep'\n\t\t]),\n\t\t...mapGetters(['constrainedElements'])\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DebugView.vue?vue&type=template&id=0210bd04&\"\nimport script from \"./DebugView.vue?vue&type=script&lang=js&\"\nexport * from \"./DebugView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"opened-state\":\"tutorial\"}},[_c('div',[_c('div',[_c('img',{attrs:{\"id\":\"drawing\",\"src\":require(\"./assets/drawing.svg\")}}),_c('h1',[_vm._v(\"SPACES is a vector drawing software with a focus on keeping a constant distance between all shapes.\")])]),_c('ul',[_c('li',[_c('img',{attrs:{\"src\":require(\"./assets/add.svg\")}}),_vm._v(\" click to add points \")]),_c('li',[_c('img',{attrs:{\"src\":require(\"./assets/end.svg\")}}),_vm._v(\" click on blue circle or \"),_c('i',[_vm._v(\"[enter]\")]),_vm._v(\" to close the shape \")]),_c('li',[_c('img',{attrs:{\"src\":require(\"./assets/steps.svg\")}}),_vm._v(\" hold \"),_c('i',[_vm._v(\"[ctrl]\")]),_vm._v(\" to force angle steps \")]),_c('li',[_c('img',{attrs:{\"src\":require(\"./assets/zoom.svg\")}}),_c('i',[_vm._v(\"[ctrl]\")]),_vm._v(\" + scroll to zoom in and out \")]),_c('li',[_c('img',{attrs:{\"src\":require(\"./assets/move.svg\")}}),_c('i',[_vm._v(\"[space]\")]),_vm._v(\" + mouse drag to move the drawing \")])]),(_vm.hasTactileScreen)?[_c('h2',[_vm._v(\"Please note that you'll need a MOUSE !\")]),_c('span',[_vm._v(\"This is a precision and productivity tool, hence it's not optimized for tactile use or phone screen size...\")])]:_vm._e(),_c('div',{attrs:{\"id\":\"lastLine\"}},[_c('a',{staticClass:\"buttonLink\",on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\" Start \")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Transition',{attrs:{\"name\":\"fade\"}},[(_vm.opened)?_c('div',{attrs:{\"id\":\"overlay\"},on:{\"click\":function($event){return _vm.close()}}},[_c('div',{class:_vm.panelClass,on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._t(\"default\"),_c('img',{attrs:{\"id\":\"close\",\"src\":_vm.closeIcon},on:{\"click\":function($event){return _vm.close()}}})],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Transition name=\"fade\">\n\t\t<div v-if=\"opened\" id=\"overlay\" @click=\"close()\">\n\t\t\t<div :class=\"panelClass\" @click.stop>\n\t\t\t\t<slot />\n\t\t\t\t<img id=\"close\" :src=\"closeIcon\" @click=\"close()\" />\n\t\t\t</div>\n\t\t</div>\n\t</Transition>\n</template>\n\n<script>\nimport * as states from '../../store/states';\nimport iconCross from './assets/cross.svg';\n\nexport default {\n\tname: 'Modal',\n\tprops: {\n\t\topenedState: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tsmall: Boolean\n\t},\n\tcomputed: {\n\t\topened() {\n\t\t\treturn this.$store.state.interactionState === this.openedState;\n\t\t},\n\t\tcloseIcon() {\n\t\t\treturn iconCross;\n\t\t},\n\t\tpanelClass() {\n\t\t\tconst classes = ['contentPanel'];\n\t\t\tif (this.small) {\n\t\t\t\tclasses.push('smallPanel');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t}\n\t},\n\tmethods: {\n\t\topen() {\n\t\t\tthis.$store.commit('setInteractionState', this.openedState);\n\t\t},\n\t\tclose() {\n\t\t\tthis.$store.commit('setInteractionState', states.DRAWING);\n\t\t},\n\t\tvalidate() {\n\t\t\tconst eventArguments = {handled: false};\n\t\t\tthis.$emit('validateModal', eventArguments);\n\n\t\t\tif (!eventArguments.handled) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t},\n\t\ttoggleKeysListening(activate) {\n\t\t\tif (this.listening !== activate) {\n\t\t\t\tthis.listening = activate;\n\t\t\t\tconst method = activate ? document.addEventListener : document.removeEventListener;\n\t\t\t\tmethod('keyup', this.keyUp);\n\t\t\t}\n\t\t},\n\t\tkeyUp(event) {\n\t\t\tconst key = event.key.toLowerCase();\n\n\t\t\tif (key === 'enter') {\n\t\t\t\tthis.validate();\n\t\t\t} else if (key === 'escape') {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\topened() {\n\t\t\tthis.toggleKeysListening(this.opened);\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.opened) {\n\t\t\tthis.toggleKeysListening(true);\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.toggleKeysListening(false);\n\t}\n};\n</script>\n\n<style scoped>\n#overlay {\n\tbackground: rgba(0, 0, 0, 0.2);\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.contentPanel {\n\tbackground: white;\n\twidth: 350px;\n\tpadding: 15px 20px;\n\tbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.3);\n\tborder-radius: 3px;\n\tposition: relative;\n}\n\n.smallPanel {\n\twidth: 220px;\n}\n\n.fade-enter-active, .fade-leave-active {\n\ttransition: opacity .3s ease;\n}\n\n.fade-enter, .fade-leave-to {\n\topacity: 0;\n}\n\n#close {\n\tposition: absolute;\n\tcursor: pointer;\n\ttop: 8px;\n\tright: 8px;\n\twidth: 12px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=306f4163&scoped=true&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&id=306f4163&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"306f4163\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Modal opened-state=\"tutorial\">\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<img id=\"drawing\" src=\"./assets/drawing.svg\" />\n\t\t\t\t<h1>SPACES is a vector drawing software with a focus on keeping a constant distance between all shapes.</h1>\n\t\t\t</div>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<img src=\"./assets/add.svg\" />\n\t\t\t\t\tclick to add points\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<img src=\"./assets/end.svg\" />\n\t\t\t\t\tclick on blue circle or <i>[enter]</i> to close the shape\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<img src=\"./assets/steps.svg\" />\n\t\t\t\t\thold <i>[ctrl]</i> to force angle steps\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<img src=\"./assets/zoom.svg\" />\n\t\t\t\t\t<i>[ctrl]</i> + scroll to zoom in and out\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<img src=\"./assets/move.svg\" />\n\t\t\t\t\t<i>[space]</i> + mouse drag to move the drawing\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<template v-if=\"hasTactileScreen\">\n\t\t\t\t<h2>Please note that you'll need a MOUSE !</h2>\n\t\t\t\t<span>This is a precision and productivity tool, hence it's not optimized for tactile use or phone screen size...</span>\n\t\t\t</template>\n\n\t\t\t<div id=\"lastLine\">\n\t\t\t\t<a class=\"buttonLink\" @click=\"close()\">\n\t\t\t\t\tStart\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport Modal from '../modal/Modal';\nimport * as states from '../../store/states';\n\nexport default {\n\tname: 'Tutorial',\n\tcomponents: {\n\t\tModal\n\t},\n\tcomputed: {\n\t\thasTactileScreen() {\n\t\t\treturn navigator.maxTouchPoints > 0;\n\t\t}\n\t},\n\tmethods: {\n\t\tclose() {\n\t\t\tthis.$store.commit('setInteractionState', states.DRAWING);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\n#drawing {\n\theight: 60px;\n\tfloat: left;\n\tmargin-right: 10px;\n\tmargin-top: -6px;\n}\n\nh1 {\n\tfont-size: 14px;\n\tfont-weight: normal;\n}\n\nul {\n\tclear: both;\n\tpadding-left: 10px;\n\tmargin-top: 20px;\n}\n\nli {\n\tclear: both;\n\tlist-style: none;\n\tmargin: 8px 0;\n\n\timg {\n\t\tfloat: left;\n\t\twidth: 20px;\n\t\tmargin-right: 8px;\n\t}\n}\n\ni {\n\tcolor: $blue;\n\tfont-style:normal;\n}\n\nh2 {\n\tmargin: 20px 0 0 0;\n\tfont-size: 14px;\n\tfont-weight: bold;\n\tcolor: #ff541f;\n}\n\n#lastLine {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 20px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tutorial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tutorial.vue?vue&type=template&id=2220405a&scoped=true&\"\nimport script from \"./Tutorial.vue?vue&type=script&lang=js&\"\nexport * from \"./Tutorial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tutorial.vue?vue&type=style&index=0&id=2220405a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2220405a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"menu\"}},[_c('h1',[_vm._v(\"SPACES\")]),_c('ul',_vm._l((_vm.items),function(item){return _c('MenuItem',_vm._b({key:item.label,attrs:{\"opened\":item === _vm.openedItem},on:{\"toggleOpening\":function($event){return _vm.toggleOpening(item)}}},'MenuItem',item,false))}),1),_c('div',{attrs:{\"id\":\"menuBottom\"}},[_c('MenuItem',_vm._b({attrs:{\"opened\":_vm.parametersItem === _vm.openedItem},on:{\"toggleOpening\":function($event){return _vm.toggleOpening(_vm.parametersItem)}}},'MenuItem',_vm.parametersItem,false),[_c('ParametersContent',{staticClass:\"parameters\"})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('a',{class:_vm.linkClass,on:{\"click\":function($event){return _vm.action()},\"mousedown\":function($event){return _vm.onMouseDown($event)},\"mouseup\":function($event){return _vm.onMouseUpOrLeave($event)},\"mouseleave\":function($event){return _vm.onMouseUpOrLeave($event)}}},[_c(_vm.icon,{tag:\"Component\",staticClass:\"icon\"}),_c('span',[_vm._v(_vm._s(_vm.label))]),(_vm.shortcut)?_c('i',{staticClass:\"shortcut\"},[_vm._v(\" \"+_vm._s(_vm.shortcut)+\" \")]):_vm._e(),(_vm.hasChildren)?_c('Arrow',{staticClass:\"arrow\",attrs:{\"rotate\":_vm.opened !== _vm.invertArrow}}):_vm._e()],1),_c('CollapseTransition',[(_vm.opened)?_c('div',{staticClass:\"children\"},[_vm._t(\"default\",[_c('ul',{staticClass:\"subMenu\"},_vm._l((_vm.children),function(child){return _c('MenuItem',_vm._b({key:child.label},'MenuItem',child,false))}),1)])],2):_vm._e()]),_c('Transition',{attrs:{\"name\":\"slide\"}},[(_vm.showTip)?_c('span',{attrs:{\"id\":\"tip\"}},[_vm._v(\" Hold ! \")]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{class:_vm.rotationClass,attrs:{\"icon-name\":\"arrow\",\"width\":\"10\",\"height\":\"10\"}},[_c('path',{attrs:{\"d\":\"M 2 3 h 6 l-3 4z\",\"stroke\":\"#000\",\"fill\":\"#000\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":_vm.width,\"height\":_vm.height}},[_c('title',{attrs:{\"id\":_vm.iconName,\"lang\":\"en\"}},[_vm._v(\" \"+_vm._s(_vm.iconName)+\" icon \")]),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" :width=\"width\" :height=\"height\">\n\t\t<title :id=\"iconName\" lang=\"en\">\n\t\t\t{{ iconName }} icon\n\t\t</title>\n\t\t<slot />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\ticonName: {\n\t\t\ttype: String,\n\t\t\tdefault: 'icon'\n\t\t},\n\t\twidth: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 24\n\t\t},\n\t\theight: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 24\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n@import '~@/global.scss';\n$gray: #4b4b4b;\n\nsvg {\n\tstroke-width: 2;\n\tstroke-linecap: round;\n\tstroke-linejoin: round;\n\tfill: none;\n}\n\n.blueStroke {\n\tstroke: $blue;\n}\n.grayStroke {\n\tstroke: $gray;\n}\n\n.blueFill {\n\tfill: $blue;\n}\n.grayFill {\n\tfill: $gray;\n}\n.whiteFill {\n\tfill: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconBase.vue?vue&type=template&id=fb537234&\"\nimport script from \"./IconBase.vue?vue&type=script&lang=js&\"\nexport * from \"./IconBase.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconBase.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<IconBase icon-name=\"arrow\" width=\"10\" height=\"10\" :class=\"rotationClass\">\n\t\t<path d=\"M 2 3 h 6 l-3 4z\" stroke=\"#000\" fill=\"#000\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t},\n\tprops: {\n\t\trotate: Boolean\n\t},\n\tcomputed: {\n\t\trotationClass() {\n\t\t\treturn this.rotate ? 'rotate' : '';\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n\nsvg {\n\ttransition: transform .4s;\n}\n\n.rotate {\n\ttransform: rotate(180deg);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Arrow.vue?vue&type=template&id=7d69c211&scoped=true&\"\nimport script from \"./Arrow.vue?vue&type=script&lang=js&\"\nexport * from \"./Arrow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Arrow.vue?vue&type=style&index=0&id=7d69c211&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d69c211\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<li>\n\t\t<a\n\t\t\t:class=\"linkClass\"\n\t\t\t@click=\"action()\"\n\t\t\t@mousedown=\"onMouseDown($event)\"\n\t\t\t@mouseup=\"onMouseUpOrLeave($event)\"\n\t\t\t@mouseleave=\"onMouseUpOrLeave($event)\"\n\t\t>\n\t\t\t<Component :is=\"icon\" class=\"icon\" />\n\n\t\t\t<span>{{ label }}</span>\n\t\t\t<i v-if=\"shortcut\" class=\"shortcut\">\n\t\t\t\t{{ shortcut }}\n\t\t\t</i>\n\t\t\t<Arrow v-if=\"hasChildren\" :rotate=\"opened !== invertArrow\" class=\"arrow\" />\n\t\t</a>\n\t\t<CollapseTransition>\n\t\t\t<div v-if=\"opened\" class=\"children\">\n\t\t\t\t<slot>\n\t\t\t\t\t<ul class=\"subMenu\">\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tv-for=\"child in children\"\n\t\t\t\t\t\t\t:key=\"child.label\"\n\t\t\t\t\t\t\tv-bind=\"child\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ul>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t</CollapseTransition>\n\n\t\t<Transition name=\"slide\">\n\t\t\t<span v-if=\"showTip\" id=\"tip\">\n\t\t\t\tHold !\n\t\t\t</span>\n\t\t</Transition>\n\t</li>\n</template>\n\n<script>\nimport {CollapseTransition} from 'vue2-transitions';\nimport Arrow from '@/icons/Arrow';\n\nconst emptyFunction = function () { };\n\nexport default {\n\tname: 'MenuItem',\n\tcomponents: {\n\t\tCollapseTransition,\n\t\tArrow\n\t},\n\tprops: {\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\tdefault: () => ''\n\t\t},\n\t\ticon: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => undefined\n\t\t},\n\t\tshortcut: {\n\t\t\ttype: String,\n\t\t\tdefault: () => ''\n\t\t},\n\t\tisEnabled: {\n\t\t\ttype: Function,\n\t\t\tdefault: () => emptyFunction\n\t\t},\n\t\tonClick: {\n\t\t\ttype: Function,\n\t\t\tdefault: () => emptyFunction\n\t\t},\n\t\tonPress: {\n\t\t\ttype: Function,\n\t\t\tdefault: () => emptyFunction\n\t\t},\n\t\tonRelease: {\n\t\t\ttype: Function,\n\t\t\tdefault: () => emptyFunction\n\t\t},\n\t\tchildren: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\topened: Boolean,\n\t\tinvertArrow: Boolean\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpressedTime: undefined,\n\t\t\tshowTip: false,\n\t\t\ttipTimeout: undefined\n\t\t};\n\t},\n\tcomputed: {\n\t\tlinkClass() {\n\t\t\treturn this.isEnabled() ? '' : 'disabledLink';\n\t\t},\n\t\thasChildren() {\n\t\t\treturn (this.children && this.children.length > 0) || this.$slots.default;\n\t\t}\n\t},\n\tmethods: {\n\t\taction() {\n\t\t\tif (this.hasChildren) {\n\t\t\t\tthis.$emit('toggleOpening');\n\t\t\t} else if (this.onClick) {\n\t\t\t\tthis.onClick();\n\t\t\t}\n\t\t},\n\t\tonMouseDown(event) {\n\t\t\tif (this.onPress && this.onPress.name !== 'default') {\n\t\t\t\tthis.onPress();\n\t\t\t\tthis.pressedTime = event.timeStamp;\n\t\t\t\tthis.showTip = false;\n\t\t\t\tif (this.tipTimeout) {\n\t\t\t\t\tclearTimeout(this.tipTimeout);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonMouseUpOrLeave(event) {\n\t\t\tif (this.pressedTime) {\n\t\t\t\tthis.onRelease();\n\n\t\t\t\tif (event.timeStamp - this.pressedTime < 500) {\n\t\t\t\t\tthis.launchTip();\n\t\t\t\t}\n\n\t\t\t\tthis.pressedTime = undefined;\n\t\t\t}\n\t\t},\n\t\tlaunchTip() {\n\t\t\tthis.showTip = true;\n\t\t\tthis.tipTimeout = setTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tthis.showTip = false;\n\t\t\t\t},\n\t\t\t\t2000);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\n* {\n\tfont-size: 14px;\n}\n\nli {\n\tlist-style: none;\n\tposition: relative;\n\n\t.icon {\n\t\tmargin-right: 8px;\n\t\tvertical-align: middle;\n\t}\n\n\tspan {\n\t\tvertical-align: middle;\n\t}\n}\n\na {\n\tdisplay: block;\n\tline-height: 24px;\n\tcursor: pointer;\n\tpadding: 8px 10px;\n\tposition: relative;\n\n\t&:hover {\n\t\tbackground: #fff6;\n\t\tcolor: $blue;\n\t}\n\n\t&:active {\n\t\tbackground: #fff;\n\t}\n}\n\n.disabledLink {\n\topacity: 0.4;\n    pointer-events: none;\n}\n\n.children {\n\tbackground: #0001;\n}\n\n.subMenu {\n\tpadding: 0;\n\tmargin: 0;\n\n\ta:hover {\n\t\tbackground: #0001;\n\t}\n}\n\n@mixin right-item {\n\tposition: absolute;\n\tright: 10px;\n}\n\n.shortcut {\n\t@include right-item;\n\topacity: 0.3;\n}\n\n.arrow {\n\t@include right-item;\n\twidth: 10px;\n\tmargin: -5px 0 0 0;\n\ttop: 50%;\n}\n\n#tip {\n\tdisplay: block;\n\tposition: absolute;\n\tright: -50px;\n\ttop: 50%;\n\tmargin-top: -12px;\n\twidth: 45px;\n\theight: 24px;\n\ttext-align: center;\n\tline-height: 24px;\n\tfont-size: 9pt;\n\n\tbackground: #3336;\n\tcolor: white;\n\tborder-radius: 3px;\n}\n\n.slide-enter-active, .slide-leave-active {\n\ttransition: opacity .3s ease, transform .2s ease;\n}\n\n.slide-enter, .slide-leave-to {\n\topacity: 0;\n}\n\n.slide-enter {\n\ttransform: translateX(-30px);\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItem.vue?vue&type=template&id=6e49dd3a&scoped=true&\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuItem.vue?vue&type=style&index=0&id=6e49dd3a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e49dd3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"min stroke size : \")]),_c('b',[_vm._v(_vm._s(_vm.localMinStroke))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localMinStroke),expression:\"localMinStroke\"}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"100\"},domProps:{\"value\":(_vm.localMinStroke)},on:{\"change\":function($event){_vm.setMinStroke(parseInt($event.target.value, 10))},\"__r\":function($event){_vm.localMinStroke=$event.target.value}}}),_c('span',[_vm._v(\"max stroke size : \")]),_c('b',[_vm._v(_vm._s(_vm.localMaxStroke))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localMaxStroke),expression:\"localMaxStroke\"}],attrs:{\"type\":\"range\",\"min\":\"20\",\"max\":\"1000\"},domProps:{\"value\":(_vm.localMaxStroke)},on:{\"change\":function($event){_vm.setMaxStroke(parseInt($event.target.value, 10))},\"__r\":function($event){_vm.localMaxStroke=$event.target.value}}}),_c('span',[_vm._v(\"min Angle : \")]),_c('b',[_vm._v(_vm._s(_vm.localMinAngle)+\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localMinAngle),expression:\"localMinAngle\"}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"90\"},domProps:{\"value\":(_vm.localMinAngle)},on:{\"change\":function($event){_vm.setMinAngle(_vm.toRad($event.target.value))},\"__r\":function($event){_vm.localMinAngle=$event.target.value}}}),_c('span',[_vm._v(\"angle steps\")]),_c('div',{staticClass:\"optionLine\"},_vm._l((_vm.angleValues),function(a){return _c('button',{key:'angleStep' + a,class:_vm.getStepClass(a),on:{\"click\":function($event){return _vm.setStep(a)}}},[_vm._v(\" \"+_vm._s(a === 0 ? 'free' : (a + \"\"))+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<span>min stroke size : </span><b>{{ localMinStroke }}</b>\n\t\t<input\n\t\t\tv-model=\"localMinStroke\"\n\t\t\ttype=\"range\"\n\t\t\tmin=\"0\"\n\t\t\tmax=\"100\"\n\t\t\t@change=\"setMinStroke(parseInt($event.target.value, 10))\"\n\t\t/>\n\n\t\t<span>max stroke size : </span><b>{{ localMaxStroke }}</b>\n\t\t<input\n\t\t\tv-model=\"localMaxStroke\"\n\t\t\ttype=\"range\"\n\t\t\tmin=\"20\"\n\t\t\tmax=\"1000\"\n\t\t\t@change=\"setMaxStroke(parseInt($event.target.value, 10))\"\n\t\t/>\n\n\t\t<span>min Angle : </span><b>{{ localMinAngle }}</b>\n\t\t<input\n\t\t\tv-model=\"localMinAngle\"\n\t\t\ttype=\"range\"\n\t\t\tmin=\"0\"\n\t\t\tmax=\"90\"\n\t\t\t@change=\"setMinAngle(toRad($event.target.value))\"\n\t\t/>\n\n\t\t<span>angle steps</span>\n\t\t<div class=\"optionLine\">\n\t\t\t<button\n\t\t\t\tv-for=\"a in angleValues\"\n\t\t\t\t:key=\"'angleStep' + a\"\n\t\t\t\t:class=\"getStepClass(a)\"\n\t\t\t\t@click=\"setStep(a)\"\n\t\t\t>\n\t\t\t\t{{ a === 0 ? 'free' : `${a}` }}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'ParametersContent',\n\tdata() {\n\t\treturn {\n\t\t\tlocalMinStroke: this.$store.state.parameters.minStroke,\n\t\t\tlocalMaxStroke: this.$store.state.parameters.maxStroke,\n\t\t\tlocalMinAngle: this.toDeg(this.$store.state.parameters.minAngle),\n\t\t\tlocalAngleStep: this.toDeg(this.$store.state.parameters.selectedAngleStep),\n\t\t\tangleValues: [5, 10, 15]\n\t\t};\n\t},\n\tmethods: {\n\t\tgetStepClass(angle) {\n\t\t\tconst classes = ['option'];\n\t\t\tif (this.toDeg(this.$store.state.parameters.selectedAngleStep) === angle) {\n\t\t\t\tclasses.push('selectedOption');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\ttoDeg(rad) {\n\t\t\treturn Math.round(rad / Math.PI * 180);\n\t\t},\n\t\ttoRad(deg) {\n\t\t\treturn deg / 180 * Math.PI;\n\t\t},\n\t\tsetMinStroke(value) {\n\t\t\tif (this.localMaxStroke < value) {\n\t\t\t\tthis.localMaxStroke = value;\n\t\t\t}\n\n\t\t\tthis.$store.commit('parameters/setMinStroke', value);\n\t\t},\n\t\tsetMaxStroke(value) {\n\t\t\tif (this.localMinStroke > value) {\n\t\t\t\tthis.localMinStroke = value;\n\t\t\t}\n\n\t\t\tthis.$store.commit('parameters/setMaxStroke', value);\n\t\t},\n\t\tsetMinAngle(value) {\n\t\t\tthis.$store.commit('parameters/setMinAngle', value);\n\t\t},\n\t\tsetStep(value) {\n\t\t\tthis.$store.commit('parameters/setSelectedAngleStep', this.toRad(value));\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\nspan {\n\tfont-size: 9pt;\n\topacity: 0.6;\n}\n\n.optionLine {\n\tdisplay: flex;\n\tmargin: 4px -4px 0 -4px;\n}\n\n.option {\n\tborder: 0px;\n\tborder-radius: 5px;\n\tmargin: 4px;\n\tpadding: 4px 8px;\n\tbackground: #aaa;\n\tcolor: #000a;\n\twidth: 33%;\n\tborder: 2px solid transparent;\n\n\t&:hover {\n\t\tbackground: $light-blue;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: $dark-blue;\n\t}\n\n\t&::-moz-focus-inner {\n\t\tborder: 0;\n\t}\n}\n\n.selectedOption {\n\tbackground: $blue;\n\tcolor: #fff;\n}\n\ninput[type=range] {\n\theight: 26px;\n\t-webkit-appearance: none;\n\tmargin: 0 0 4px 0;\n\twidth: 100%;\n\tbackground: transparent;\n}\ninput[type=range]:focus {\n\toutline: none;\n}\n\n@mixin track {\n\twidth: 100%;\n\theight: 4px;\n\tcursor: pointer;\n\tanimate: 0.2s;\n}\n\n@mixin track-color {\n\tbackground: #0006;\n\tborder-radius: 4px;\n\tborder: 0px solid #000;\n}\n\n@mixin focused-track-color {\n\tbackground: $blue;\n}\n\n@mixin thumb {\n\tbox-shadow: 0px 0px 6px #fff;\n\theight: 14px;\n\twidth: 14px;\n\tborder-radius: 14px;\n\tbackground: $blue;\n\tcursor: pointer;\n}\n\n@mixin focused-thumb {\n\tbox-shadow: 0px 0px 6px #0008;\n\tborder: 2px solid #fff;\n}\n\n/* Webkit */\ninput[type=range]::-webkit-slider-runnable-track {\n\t@include track;\n\t@include track-color;\n}\ninput[type=range]::-webkit-slider-thumb {\n\t@include thumb;\n\t-webkit-appearance: none;\n\tmargin-top: -5px;\n}\ninput[type=range]:focus::-webkit-slider-runnable-track {\n\t@include focused-track-color;\n}\ninput[type=range]:focus::-webkit-slider-thumb {\n\t@include focused-thumb;\n}\n\n/* Firefox */\ninput[type=range]::-moz-range-track {\n\t@include track;\n\t@include track-color;\n}\ninput[type=range]::-moz-focus-outer {\n\tborder: 0;\n}\ninput[type=range]::-moz-range-thumb {\n\t@include thumb;\n\tborder: none;\n\tbox-sizing: border-box;\n}\ninput[type=range]:focus::-moz-range-track {\n\t@include focused-track-color;\n}\ninput[type=range]:focus::-moz-range-thumb {\n\t@include focused-thumb;\n}\n\n/* MS */\ninput[type=range]::-ms-track {\n\t@include track;\n\tbackground: transparent;\n\tborder-color: transparent;\n\tcolor: transparent;\n}\ninput[type=range]::-ms-fill-lower {\n\t@include track-color;\n}\ninput[type=range]::-ms-fill-upper {\n\t@include track-color;\n}\ninput[type=range]::-ms-thumb {\n\t@include thumb;\n\tmargin-top: 1px;\n}\ninput[type=range]:focus::-ms-fill-lower {\n\t@include focused-track-color;\n}\ninput[type=range]:focus::-ms-fill-upper {\n\t@include focused-track-color;\n}\ninput[type=range]:focus::-ms-thumb {\n\t@include focused-thumb;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParametersContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParametersContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParametersContent.vue?vue&type=template&id=7ca351c8&scoped=true&\"\nimport script from \"./ParametersContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ParametersContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParametersContent.vue?vue&type=style&index=0&id=7ca351c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca351c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"new\"}},[_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"m 10,4 h 8 V 20 H 6 V 8 Z\"}}),_c('path',{staticClass:\"blueFill blueStroke\",attrs:{\"d\":\"m 6,8 h 4 V 4\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"new\">\n\t\t<path d=\"m 10,4 h 8 V 20 H 6 V 8 Z\" class=\"blueStroke\" />\n\t\t<path d=\"m 6,8 h 4 V 4\" class=\"blueFill blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./New.vue?vue&type=template&id=4bda035e&\"\nimport script from \"./New.vue?vue&type=script&lang=js&\"\nexport * from \"./New.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"undo\"}},[_c('path',{staticClass:\"blueFill blueStroke\",attrs:{\"d\":\"m 12,4 v 6 l -4,-3 z\"}}),_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"m 12,7 a 6,6 0 0 1 5.5,3.7 6,6 0 0 1 -1.3,6.5 6,6 0 0 1 -6.5,1.3 6,6 0 0 1 -3.7,-5.5\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"undo\">\n\t\t<path d=\"m 12,4 v 6 l -4,-3 z\" class=\"blueFill blueStroke\" />\n\t\t<path d=\"m 12,7 a 6,6 0 0 1 5.5,3.7 6,6 0 0 1 -1.3,6.5 6,6 0 0 1 -6.5,1.3 6,6 0 0 1 -3.7,-5.5\" class=\"blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Undo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Undo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Undo.vue?vue&type=template&id=52a4c42e&\"\nimport script from \"./Undo.vue?vue&type=script&lang=js&\"\nexport * from \"./Undo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"redo\"}},[_c('path',{staticClass:\"blueFill blueStroke\",attrs:{\"d\":\"m 12,4 v 6 l 4,-3 z\"}}),_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"m 12,7 a 6,6 1 0 0 -5.5,3.7 6,6 1 0 0 1.3,6.5 6,6 1 0 0 6.5,1.3 6,6 1 0 0 3.7,-5.5\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"redo\">\n\t\t<path d=\"m 12,4 v 6 l 4,-3 z\" class=\"blueFill blueStroke\"/>\n\t\t<path d=\"m 12,7 a 6,6 1 0 0 -5.5,3.7 6,6 1 0 0 1.3,6.5 6,6 1 0 0 6.5,1.3 6,6 1 0 0 3.7,-5.5\" class=\"blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Redo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Redo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Redo.vue?vue&type=template&id=bd60bdae&\"\nimport script from \"./Redo.vue?vue&type=script&lang=js&\"\nexport * from \"./Redo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"preview\"}},[_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"m 4,12 c 0,0 1.6,-6 8,-6 C 18.4,6 20,12 20,12\"}}),_c('circle',{staticClass:\"blueStroke\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"3\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"preview\">\n\t\t<path d=\"m 4,12 c 0,0 1.6,-6 8,-6 C 18.4,6 20,12 20,12\" class=\"blueStroke\" />\n\t\t<circle cx=\"12\" cy=\"12\" r=\"3\" class=\"blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=3879b6da&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"export\"}},[_c('path',{staticClass:\"blueFill blueStroke\",attrs:{\"d\":\"M 9,12 H 15 l -3,4 z\"}}),_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"M 18,19 H 6\"}}),_c('path',{staticClass:\"blueStroke\",attrs:{\"d\":\"M 12,4 V 11\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"export\">\n\t\t<path d=\"M 9,12 H 15 l -3,4 z\" class=\"blueFill blueStroke\" />\n\t\t<path d=\"M 18,19 H 6\" class=\"blueStroke\" />\n\t\t<path d=\"M 12,4 V 11\" class=\"blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Export.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Export.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Export.vue?vue&type=template&id=04e35a08&\"\nimport script from \"./Export.vue?vue&type=script&lang=js&\"\nexport * from \"./Export.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"guides\"}},[_c('path',{staticClass:\"grayStroke\",attrs:{\"d\":\"M5,4 19,20\",\"opacity\":\"0.5\"}}),_c('circle',{staticClass:\"whiteFill blueStroke\",attrs:{\"r\":\"3\",\"cy\":\"14\",\"cx\":\"14\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"guides\">\n\t\t<path d=\"M5,4 19,20\" class=\"grayStroke\" opacity=\"0.5\" />\n\t\t<circle r=\"3\" cy=\"14\" cx=\"14\" class=\"whiteFill blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Guides.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Guides.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Guides.vue?vue&type=template&id=5a5396db&\"\nimport script from \"./Guides.vue?vue&type=script&lang=js&\"\nexport * from \"./Guides.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"current\"}},[_c('path',{staticClass:\"grayStroke\",attrs:{\"d\":\"M7,20 16,10\"}}),_c('circle',{staticClass:\"whiteFill blueStroke\",attrs:{\"cx\":\"16\",\"cy\":\"10\",\"r\":\"3\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"current\">\n\t\t<path d=\"M7,20 16,10\" class=\"grayStroke\" />\n\t\t<circle cx=\"16\" cy=\"10\" r=\"3\" class=\"whiteFill blueStroke\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Current.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Current.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Current.vue?vue&type=template&id=3db1c716&\"\nimport script from \"./Current.vue?vue&type=script&lang=js&\"\nexport * from \"./Current.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"next\"}},[_c('path',{staticClass:\"grayStroke\",attrs:{\"d\":\"M7,20 16,10\"}}),_c('circle',{staticClass:\"whiteFill blueStroke\",attrs:{\"cx\":\"16\",\"cy\":\"10\",\"r\":\"3\"}}),_c('g',{staticClass:\"grayFill\"},[_c('circle',{attrs:{\"r\":\"1\",\"cx\":\"4\",\"cy\":\"6\"}}),_c('circle',{attrs:{\"r\":\"1\",\"cx\":\"7\",\"cy\":\"7\"}}),_c('circle',{attrs:{\"r\":\"1\",\"cx\":\"10\",\"cy\":\"8\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"next\">\n\t\t<path d=\"M7,20 16,10\" class=\"grayStroke\" />\n\t\t<circle cx=\"16\" cy=\"10\" r=\"3\" class=\"whiteFill blueStroke\" />\n\t\t<g class=\"grayFill\">\n\t\t\t<circle r=\"1\" cx=\"4\" cy=\"6\" />\n\t\t\t<circle r=\"1\" cx=\"7\" cy=\"7\" />\n\t\t\t<circle r=\"1\" cx=\"10\" cy=\"8\" />\n\t\t</g>\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Next.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Next.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Next.vue?vue&type=template&id=522451f8&\"\nimport script from \"./Next.vue?vue&type=script&lang=js&\"\nexport * from \"./Next.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('IconBase',{attrs:{\"icon-name\":\"parameters\"}},[_c('circle',{staticClass:\"grayStroke\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"4.5\",\"stroke-width\":\"3\"}}),_c('path',{staticClass:\"grayFill grayStroke\",attrs:{\"id\":\"A\",\"d\":\"M 11,5 10.447266,7.2539061 A 5,5 0 0 1 12,7 5,5 0 0 1 13.558594,7.251953 L 13,5 Z\"}}),_c('use',{attrs:{\"xlink:href\":\"#A\",\"transform\":\"rotate(60 12 12)\"}}),_c('use',{attrs:{\"xlink:href\":\"#A\",\"transform\":\"rotate(120 12 12)\"}}),_c('use',{attrs:{\"xlink:href\":\"#A\",\"transform\":\"rotate(180 12 12)\"}}),_c('use',{attrs:{\"xlink:href\":\"#A\",\"transform\":\"rotate(240 12 12)\"}}),_c('use',{attrs:{\"xlink:href\":\"#A\",\"transform\":\"rotate(300 12 12)\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<IconBase icon-name=\"parameters\">\n\t\t<circle cx=\"12\" cy=\"12\" r=\"4.5\" class=\"grayStroke\" stroke-width=\"3\" />\n\t\t<path\n\t\t\tid=\"A\"\n\t\t\tclass=\"grayFill grayStroke\"\n\t\t\td=\"M 11,5 10.447266,7.2539061 A 5,5 0 0 1 12,7 5,5 0 0 1 13.558594,7.251953 L 13,5 Z\"\n\t\t/>\n\t\t<use xlink:href=\"#A\" transform=\"rotate(60 12 12)\" />\n\t\t<use xlink:href=\"#A\" transform=\"rotate(120 12 12)\" />\n\t\t<use xlink:href=\"#A\" transform=\"rotate(180 12 12)\" />\n\t\t<use xlink:href=\"#A\" transform=\"rotate(240 12 12)\" />\n\t\t<use xlink:href=\"#A\" transform=\"rotate(300 12 12)\" />\n\t</IconBase>\n</template>\n\n<script>\nimport IconBase from './IconBase';\nexport default {\n\tcomponents: {\n\t\tIconBase\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parameters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parameters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Parameters.vue?vue&type=template&id=049a0f35&\"\nimport script from \"./Parameters.vue?vue&type=script&lang=js&\"\nexport * from \"./Parameters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"menu\">\n\t\t<h1>SPACES</h1>\n\t\t<ul>\n\t\t\t<MenuItem\n\t\t\t\tv-for=\"item in items\"\n\t\t\t\t:key=\"item.label\"\n\t\t\t\tv-bind=\"item\"\n\t\t\t\t:opened=\"item === openedItem\"\n\t\t\t\t@toggleOpening=\"toggleOpening(item)\"\n\t\t\t/>\n\t\t</ul>\n\n\t\t<div id=\"menuBottom\">\n\t\t\t<MenuItem\n\t\t\t\tv-bind=\"parametersItem\"\n\t\t\t\t:opened=\"parametersItem === openedItem\"\n\t\t\t\t@toggleOpening=\"toggleOpening(parametersItem)\"\n\t\t\t>\n\t\t\t\t<ParametersContent class=\"parameters\" />\n\t\t\t</MenuItem>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport MenuItem from './MenuItem';\nimport ParametersContent from '../parameters/ParametersContent';\nimport * as states from '../../store/states';\n\nimport IconNew from '../../icons/New';\nimport IconUndo from '../../icons/Undo';\nimport IconRedo from '../../icons/Redo';\nimport IconPreview from '../../icons/Preview';\nimport IconExport from '../../icons/Export';\nimport IconGuides from '../../icons/Guides';\nimport IconCurrent from '../../icons/Current';\nimport IconNext from '../../icons/Next';\nimport IconParameters from '../../icons/Parameters';\n\nexport default {\n\tname: 'Menu',\n\tcomponents: {\n\t\tMenuItem,\n\t\tParametersContent\n\t},\n\tdata() {\n\t\treturn {\n\t\t\topenedItem: undefined,\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'New',\n\t\t\t\t\ticon: IconNew,\n\t\t\t\t\tonClick: this.new\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Undo',\n\t\t\t\t\ticon: IconUndo,\n\t\t\t\t\tshortcut: 'ctrl+Z',\n\t\t\t\t\tisEnabled: this.canUndo,\n\t\t\t\t\tonClick: this.undo\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Redo',\n\t\t\t\t\ticon: IconRedo,\n\t\t\t\t\tshortcut: 'ctrl+Y',\n\t\t\t\t\tisEnabled: this.canRedo,\n\t\t\t\t\tonClick: this.redo\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Preview result',\n\t\t\t\t\ticon: IconPreview,\n\t\t\t\t\tshortcut: 'R',\n\t\t\t\t\tisEnabled: this.hasShape,\n\t\t\t\t\tonPress: this.preview,\n\t\t\t\t\tonRelease: this.stopPreview\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Export',\n\t\t\t\t\ticon: IconExport,\n\t\t\t\t\tisEnabled: this.hasShape,\n\t\t\t\t\tonClick: this.export\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Guides',\n\t\t\t\t\ticon: IconGuides,\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Add horizontal',\n\t\t\t\t\t\t\tshortcut: 'H',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Add vertical',\n\t\t\t\t\t\t\tshortcut: 'V',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Clear all',\n\t\t\t\t\t\t\tshortcut: 'G',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Current stroke',\n\t\t\t\t\ticon: IconCurrent,\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Parallel to line',\n\t\t\t\t\t\t\tshortcut: 'L',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Points toward',\n\t\t\t\t\t\t\tshortcut: 'P',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Copy length',\n\t\t\t\t\t\t\tshortcut: 'S',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Next stroke',\n\t\t\t\t\ticon: IconNext,\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Parallel to line',\n\t\t\t\t\t\t\tshortcut: 'N',\n\t\t\t\t\t\t\tisEnabled: () => false\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tparametersItem: {\n\t\t\t\tlabel: 'Parameters',\n\t\t\t\ticon: IconParameters,\n\t\t\t\tinvertArrow: true\n\t\t\t}\n\t\t};\n\t},\n\tmethods: {\n\t\ttoggleOpening(item) {\n\t\t\tif (this.openedItem === item) {\n\t\t\t\tthis.openedItem = undefined;\n\t\t\t} else {\n\t\t\t\tthis.openedItem = item;\n\t\t\t}\n\t\t},\n\t\tcanUndo() {\n\t\t\treturn this.$store.getters.canUndo;\n\t\t},\n\t\tcanRedo() {\n\t\t\treturn this.$store.getters.canRedo;\n\t\t},\n\t\thasShape() {\n\t\t\treturn this.$store.state.shapes.length > 0;\n\t\t},\n\n\t\tnew() {\n\t\t\tthis.$store.commit('setInteractionState', states.NEW);\n\t\t},\n\t\tundo() {\n\t\t\tthis.$store.commit('undo');\n\t\t},\n\t\tredo() {\n\t\t\tthis.$store.commit('redo');\n\t\t},\n\t\tpreview() {\n\t\t\tthis.$store.commit('setInteractionState', states.PREVIEW);\n\t\t},\n\t\tstopPreview() {\n\t\t\tthis.$store.commit('setInteractionState', states.DRAWING);\n\t\t},\n\t\texport() {\n\t\t\tthis.$store.commit('setInteractionState', states.EXPORT);\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n#menu {\n\tposition: relative;\n}\n\nh1 {\n\tfont-weight: normal;\n\tmargin: 15px;\n\tfont-size: 16px;\n\tletter-spacing: 4px;\n}\n\nul {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n#menuBottom {\n\tposition: absolute;\n\tbottom: 0;\n\twidth: 100%;\n}\n\n.parameters {\n\tpadding: 10px 18px 10px 14px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=0daf0a82&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=0daf0a82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0daf0a82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"opened-state\":\"export\",\"small\":\"\"}},[_c('Exporter')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Export to svg\")]),_c('div',{attrs:{\"id\":\"centerBlock\"}},[_c('Transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.loading)?_c('img',{key:\"loadingWheel\",attrs:{\"src\":_vm.loadingWheel}}):_c('a',{key:\"loadedButton\",staticClass:\"buttonLink\",attrs:{\"download\":\"export.svg\",\"href\":_vm.downloadUrl}},[_vm._v(\" Download \")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport function getShapePath(shape, closeShape) {\n\tlet path = '';\n\tshape.forEach((s, i) => {\n\t\tpath += (i === 0 ? 'M' : 'L');\n\t\tpath += s.x + ' ' + s.y + ' ';\n\t});\n\tif (closeShape) {\n\t\tpath += 'Z';\n\t}\n\n\treturn path;\n}\n\nexport function createSvgFileFromShapes(shapes, size) {\n\tlet content = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size.x}\" height=\"${size.y}\">\\n`;\n\n\tshapes.forEach(shape => {\n\t\tlet path = '<path stroke-width=\"0\" fill=\"black\"';\n\t\tpath += ` d=\"${getShapePath(shape.points, true)}\"`;\n\t\tpath += ' />';\n\t\tcontent += path + '\\n';\n\t});\n\n\tcontent += '</svg>';\n\n\treturn content;\n}\n","<template>\n\t<div>\n\t\t<h1>Export to svg</h1>\n\n\t\t<div id=\"centerBlock\">\n\t\t\t<Transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t<img\n\t\t\t\t\tv-if=\"loading\"\n\t\t\t\t\tkey=\"loadingWheel\"\n\t\t\t\t\t:src=\"loadingWheel\"\n\t\t\t\t/>\n\n\t\t\t\t<a\n\t\t\t\t\tv-else\n\t\t\t\t\tkey=\"loadedButton\"\n\t\t\t\t\tclass=\"buttonLink\"\n\t\t\t\t\tdownload=\"export.svg\"\n\t\t\t\t\t:href=\"downloadUrl\"\n\t\t\t\t>\n\t\t\t\t\tDownload\n\t\t\t\t</a>\n\t\t\t</Transition>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport {createSvgFileFromShapes} from '../../core/Helpers/SvgHelpers';\nimport iconLoading from './assets/loadingWheel.svg';\n\nexport default {\n\tname: 'Exporter',\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tdownloadUrl: '#'\n\t\t};\n\t},\n\tcomputed: {\n\t\tloadingWheel() {\n\t\t\treturn iconLoading;\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.loading = true;\n\n\t\tconst textContent = createSvgFileFromShapes(\n\t\t\tthis.$store.state.shapes,\n\t\t\tthis.$store.state.parameters.drawingSize\n\t\t);\n\t\tconst data = new Blob([textContent], {type: 'text/svg'});\n\t\tthis.downloadUrl = window.URL.createObjectURL(data);\n\n\t\t// Ensure the animation is displayed at list 1s\n\t\tsetTimeout(() => {\n\t\t\tthis.loading = false;\n\t\t}, 1000);\n\t},\n\tbeforeDestroy() {\n\t\t// Clear the blob out of memory\n\t\twindow.URL.revokeObjectURL(this.downloadUrl);\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\nh1 {\n\tfont-size: 17pt;\n\tfont-weight: normal;\n\tmargin: 0;\n}\n\n#centerBlock {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 20px;\n\theight: 50px;\n\talign-items: center;\n}\n\n.fade-enter-active, .fade-leave-active {\n\ttransition: opacity .3s ease;\n}\n\n.fade-enter, .fade-leave-to {\n\topacity: 0;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exporter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exporter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Exporter.vue?vue&type=template&id=29c1fdee&scoped=true&\"\nimport script from \"./Exporter.vue?vue&type=script&lang=js&\"\nexport * from \"./Exporter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Exporter.vue?vue&type=style&index=0&id=29c1fdee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29c1fdee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Modal opened-state=\"export\" small>\n\t\t<Exporter />\n\t</Modal>\n</template>\n\n<script>\nimport Modal from '../modal/Modal.vue';\nimport Exporter from './Exporter.vue';\n\n// Note : Exporter is isolated in a single component to insure\n// that the file and it's url is generated only on demand\n// and not each time a change is made in the drawing\nexport default {\n\tname: 'ExportModal',\n\tcomponents: {\n\t\tModal,\n\t\tExporter\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportModal.vue?vue&type=template&id=7595aeb8&\"\nimport script from \"./ExportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"opened-state\":\"new\",\"small\":\"\"},on:{\"validateModal\":function($event){return _vm.modalValidation($event)}}},[_c('h1',[_vm._v(\"New drawing\")]),_c('form',{ref:\"form\",attrs:{\"id\":\"newDrawingForm\"}}),_c('div',{staticClass:\"inputs\"},[_c('label',[_c('span',[_vm._v(\"Width\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.width),expression:\"width\",modifiers:{\"number\":true}}],attrs:{\"form\":\"newDrawingForm\",\"type\":\"number\",\"min\":\"200\",\"max\":\"9000\",\"required\":\"\"},domProps:{\"value\":(_vm.width)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.width=_vm._n($event.target.value)},function($event){return _vm.updateValidity()}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('label',[_c('span',[_vm._v(\"Height\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.height),expression:\"height\",modifiers:{\"number\":true}}],attrs:{\"form\":\"newDrawingForm\",\"type\":\"number\",\"min\":\"200\",\"max\":\"9000\",\"required\":\"\"},domProps:{\"value\":(_vm.height)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.height=_vm._n($event.target.value)},function($event){return _vm.updateValidity()}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('label',[_c('span',[_vm._v(\"Shapes gap\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.gap),expression:\"gap\",modifiers:{\"number\":true}}],attrs:{\"form\":\"newDrawingForm\",\"type\":\"number\",\"min\":\"2\",\"max\":\"900\",\"required\":\"\"},domProps:{\"value\":(_vm.gap)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.gap=_vm._n($event.target.value)},function($event){return _vm.updateValidity()}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"lastLine\"},[_c('button',{staticClass:\"buttonLink secondaryButton\",on:{\"click\":function($event){return _vm.cancel()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();}}},[_vm._v(\" Cancel \")]),_c('button',{class:_vm.createButtonClass,attrs:{\"type\":\"submit\",\"form\":\"newDrawingForm\"},on:{\"click\":function($event){$event.preventDefault();return _vm.create()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();}}},[_vm._v(\" Create \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Modal opened-state=\"new\" small @validateModal=\"modalValidation($event)\">\n\t\t<h1>New drawing</h1>\n\n\t\t<form id=\"newDrawingForm\" ref=\"form\" />\n\n\t\t<div class=\"inputs\">\n\t\t\t<label>\n\t\t\t\t<span>Width</span>\n\t\t\t\t<input\n\t\t\t\t\tv-model.number=\"width\"\n\t\t\t\t\tform=\"newDrawingForm\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"200\"\n\t\t\t\t\tmax=\"9000\"\n\t\t\t\t\trequired\n\t\t\t\t\t@input=\"updateValidity()\"\n\t\t\t\t\t@keyup.enter.stop\n\t\t\t\t/>\n\t\t\t</label>\n\n\t\t\t<label>\n\t\t\t\t<span>Height</span>\n\t\t\t\t<input\n\t\t\t\t\tv-model.number=\"height\"\n\t\t\t\t\tform=\"newDrawingForm\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"200\"\n\t\t\t\t\tmax=\"9000\"\n\t\t\t\t\trequired\n\t\t\t\t\t@input=\"updateValidity()\"\n\t\t\t\t\t@keyup.enter.stop\n\t\t\t\t/>\n\t\t\t</label>\n\n\t\t\t<label>\n\t\t\t\t<span>Shapes gap</span>\n\t\t\t\t<input\n\t\t\t\t\tv-model.number=\"gap\"\n\t\t\t\t\tform=\"newDrawingForm\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"2\"\n\t\t\t\t\tmax=\"900\"\n\t\t\t\t\trequired\n\t\t\t\t\t@input=\"updateValidity()\"\n\t\t\t\t\t@keyup.enter.stop\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class=\"lastLine\">\n\t\t\t<button\n\t\t\t\tclass=\"buttonLink secondaryButton\"\n\t\t\t\t@click=\"cancel()\"\n\t\t\t\t@keyup.enter.stop\n\t\t\t>\n\t\t\t\tCancel\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\t:class=\"createButtonClass\"\n\t\t\t\tform=\"newDrawingForm\"\n\t\t\t\t@click.prevent=\"create()\"\n\t\t\t\t@keyup.enter.stop\n\t\t\t>\n\t\t\t\tCreate\n\t\t\t</button>\n\t\t</div>\n\t</Modal>\n</template>\n\n<script>\nimport Modal from '../modal/Modal.vue';\nimport * as states from '../../store/states';\n\nexport default {\n\tname: 'New',\n\tcomponents: {\n\t\tModal\n\t},\n\tdata() {\n\t\treturn {\n\t\t\twidth: 1000,\n\t\t\theight: 600,\n\t\t\tgap: 10,\n\t\t\tisValid: true\n\t\t};\n\t},\n\tcomputed: {\n\t\tcreateButtonClass() {\n\t\t\tconst classes = ['buttonLink'];\n\t\t\tif (!this.isValid) {\n\t\t\t\tclasses.push('disabledButton');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateValidity() {\n\t\t\tthis.isValid = this.$refs.form.checkValidity();\n\t\t},\n\t\tcancel() {\n\t\t\tthis.$store.commit('setInteractionState', states.DRAWING);\n\t\t},\n\t\tcreate() {\n\t\t\tif (this.isValid) {\n\t\t\t\tthis.$store.dispatch('createNew', {\n\t\t\t\t\twidth: this.width,\n\t\t\t\t\theight: this.height,\n\t\t\t\t\tgap: this.gap\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tmodalValidation(event) {\n\t\t\tevent.handled = true;\n\t\t\tthis.create();\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\nh1 {\n\tmargin: 0 0 20px 0;\n\tfont-size: 14pt;\n}\n\nlabel {\n\tmargin: 4px 0;\n\tdisplay: grid;\n\tgrid-template-columns: 80px auto;\n\talign-items: center;\n\n\tspan {\n\t\tgrid-column: 1 / span 1;\n\t}\n\n\tinput {\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tgrid-column: 2 / span 1;\n\t}\n}\n\n.lastLine {\n\tmargin-top: 20px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./New.vue?vue&type=template&id=f659fed0&scoped=true&\"\nimport script from \"./New.vue?vue&type=script&lang=js&\"\nexport * from \"./New.vue?vue&type=script&lang=js&\"\nimport style0 from \"./New.vue?vue&type=style&index=0&id=f659fed0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f659fed0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.cursorStyle),attrs:{\"id\":\"container\"},on:{\"wheel\":function($event){$event.preventDefault();return _vm.onWheel($event)}}},[_c('svg',{ref:\"viewer\",attrs:{\"id\":\"viewer\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{ref:\"viewerContent\",attrs:{\"transform\":_vm.transformMatrix}},[_vm._t(\"default\")],2)]),_c('div',{attrs:{\"id\":\"scrollContainer\"}},[_c('div',{attrs:{\"id\":\"hScrollContainer\"}},[_c('div',{ref:\"hScrollBar\",staticClass:\"scrollBar\",style:(_vm.hBarStyle),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.horizontalHandler.hang($event)}}})]),_c('div',{attrs:{\"id\":\"vScrollContainer\"}},[_c('div',{ref:\"vScrollBar\",staticClass:\"scrollBar\",style:(_vm.vBarStyle),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.verticalHandler.hang($event)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nexport default new Vue();\n","<template>\n\t<div\n\t\tid=\"container\"\n\t\t:style=\"cursorStyle\"\n\t\t@wheel.prevent=\"onWheel($event)\"\n\t>\n\t\t<svg id=\"viewer\" ref=\"viewer\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t<g\n\t\t\t\tref=\"viewerContent\"\n\t\t\t\t:transform=\"transformMatrix\"\n\t\t\t>\n\t\t\t\t<slot />\n\t\t\t</g>\n\t\t</svg>\n\t\t<div id=\"scrollContainer\">\n\t\t\t<div id=\"hScrollContainer\">\n\t\t\t\t<div\n\t\t\t\t\tref=\"hScrollBar\"\n\t\t\t\t\tclass=\"scrollBar\"\n\t\t\t\t\t:style=\"hBarStyle\"\n\t\t\t\t\t@mousedown.stop=\"horizontalHandler.hang($event)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div id=\"vScrollContainer\">\n\t\t\t\t<div\n\t\t\t\t\tref=\"vScrollBar\"\n\t\t\t\t\tclass=\"scrollBar\"\n\t\t\t\t\t:style=\"vBarStyle\"\n\t\t\t\t\t@mousedown.stop=\"verticalHandler.hang($event)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nimport EventBus from '../EventBus';\n\nclass PanHandler {\n\tconstructor(getDeltaRatio, getPan, setPan, registerMouseMove) {\n\t\tif (getDeltaRatio) {\n\t\t\tthis.getDeltaRatio = getDeltaRatio;\n\t\t} else {\n\t\t\tthis.getDeltaRatio = function () {\n\t\t\t\treturn {x: 1, y: 1};\n\t\t\t};\n\t\t}\n\n\t\tthis.getPan = getPan;\n\t\tthis.setPan = setPan;\n\t\tthis.registerMouseMove = registerMouseMove;\n\t\tthis.initPan = {x: 0, y: 0};\n\t\tthis.initMouse = {x: 0, y: 0};\n\t\tthis.panning = false;\n\t}\n\n\t// All events pass through this method\n\t// in order to have \"this\" refering to the current object\n\thandleEvent(event) {\n\t\tswitch (event.type) {\n\t\t\tcase 'mousedown':\n\t\t\t\tthis.hang(event);\n\t\t\t\tbreak;\n\t\t\tcase 'mousemove':\n\t\t\t\tthis.move(event);\n\t\t\t\tbreak;\n\t\t\tcase 'mouseup':\n\t\t\t\tthis.drop(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\thang(event) {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tthis.initPan = this.getPan();\n\t\tthis.initMouse = {x: event.pageX, y: event.pageY};\n\t\tthis.panning = true;\n\t\twindow.addEventListener('mouseup', this, true);\n\t\tif (this.registerMouseMove) {\n\t\t\twindow.addEventListener('mousemove', this, true);\n\t\t}\n\t}\n\n\tmove(event) {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tif (this.panning) {\n\t\t\tconst ratio = this.getDeltaRatio();\n\t\t\tconst deltaX = ratio.x * (event.pageX - this.initMouse.x);\n\t\t\tconst deltaY = ratio.y * (event.pageY - this.initMouse.y);\n\n\t\t\tthis.setPan(\n\t\t\t\tthis.initPan.x + deltaX,\n\t\t\t\tthis.initPan.y + deltaY\n\t\t\t);\n\t\t}\n\t}\n\n\tdrop(event) {\n\t\tif (event) {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.panning = false;\n\t\twindow.removeEventListener('mouseup', this, true);\n\t\tif (this.registerMouseMove) {\n\t\t\twindow.removeEventListener('mousemove', this, true);\n\t\t}\n\t}\n}\n\nexport default {\n\tname: 'SvgViewport',\n\tdata() {\n\t\treturn {\n\t\t\tminZoom: 0.2,\n\t\t\tmaxZoom: 20,\n\t\t\tbarsWidth: 14,\n\t\t\tx: 20,\n\t\t\ty: 20,\n\t\t\tzoom: 0.7,\n\t\t\toffset: {x: 0, y: 0},\n\t\t\tavailableWidth: 1000,\n\t\t\tavailableHeight: 1000,\n\t\t\thorizontalHandler: new PanHandler(this.hBarPanRatio, this.getPan, this.setPan, true),\n\t\t\tverticalHandler: new PanHandler(this.vBarPanRatio, this.getPan, this.setPan, true),\n\t\t\tmouseHandler: new PanHandler(undefined, this.getPan, this.setPan, false),\n\t\t\tmousePanMode: false\n\t\t};\n\t},\n\tmounted() {\n\t\t// DIV don't throw Resize events : we need to listen on whole window\n\t\twindow.addEventListener('resize', this, false);\n\t\tthis.onResize();\n\t\tthis.centerDrawing();\n\t\tEventBus.$on('newDrawing', this.centerDrawing);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this, false);\n\t\tEventBus.$off('newDrawing', this.centerDrawing);\n\t},\n\tcomputed: {\n\t\tdrawingWidth() {\n\t\t\treturn this.$store.state.parameters.drawingSize.x;\n\t\t},\n\t\tdrawingHeight() {\n\t\t\treturn this.$store.state.parameters.drawingSize.y;\n\t\t},\n\t\ttransformMatrix() {\n\t\t\treturn `matrix(${this.zoom}, 0, 0, ${this.zoom}, ${this.x}, ${this.y})`;\n\t\t},\n\t\tpanBounds() {\n\t\t\tconst margin = 20;\n\t\t\treturn {\n\t\t\t\tminX: margin - (this.drawingWidth * this.zoom),\n\t\t\t\tminY: margin - (this.drawingHeight * this.zoom),\n\t\t\t\tmaxX: this.availableWidth - margin,\n\t\t\t\tmaxY: this.availableHeight - margin\n\t\t\t};\n\t\t},\n\t\thBarSize() {\n\t\t\treturn (this.availableWidth - this.barsWidth) / (this.zoom / this.minZoom);\n\t\t},\n\t\thBarMaxSize() {\n\t\t\treturn this.availableWidth - this.hBarSize - this.barsWidth;\n\t\t},\n\t\thBarStyle() {\n\t\t\tconst xRatio = (this.x - this.panBounds.minX) / (this.panBounds.maxX - this.panBounds.minX);\n\t\t\tconst barX = (1 - xRatio) * this.hBarMaxSize;\n\n\t\t\treturn {\n\t\t\t\theight: this.barsWidth + 'px',\n\t\t\t\twidth: this.hBarSize + 'px',\n\t\t\t\tleft: barX + 'px'\n\t\t\t};\n\t\t},\n\t\tvBarSize() {\n\t\t\treturn (this.availableHeight - this.barsWidth) / (this.zoom / this.minZoom);\n\t\t},\n\t\tvBarMaxSize() {\n\t\t\treturn this.availableHeight - this.vBarSize - this.barsWidth;\n\t\t},\n\t\tvBarStyle() {\n\t\t\tconst yRatio = (this.y - this.panBounds.minY) / (this.panBounds.maxY - this.panBounds.minY);\n\t\t\tconst barY = (1 - yRatio) * this.vBarMaxSize;\n\n\t\t\treturn {\n\t\t\t\twidth: this.barsWidth + 'px',\n\t\t\t\theight: this.vBarSize + 'px',\n\t\t\t\ttop: barY + 'px'\n\t\t\t};\n\t\t},\n\t\tcursorStyle() {\n\t\t\treturn {\n\t\t\t\tcursor: this.mousePanMode ? (this.mouseHandler.panning ? 'grabbing' : 'grab') : 'auto'\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tinitMousePan() {\n\t\t\tif (!this.mousePanMode) {\n\t\t\t\tthis.mousePanMode = true;\n\t\t\t\twindow.addEventListener('mousedown', this.mouseHandler, true);\n\t\t\t\t// Register mousemove to block events even if not yet used to pan\n\t\t\t\twindow.addEventListener('mousemove', this.mouseHandler, true);\n\t\t\t}\n\t\t},\n\t\tstopMousePan() {\n\t\t\tif (this.mousePanMode) {\n\t\t\t\tthis.mousePanMode = false;\n\t\t\t\tthis.mouseHandler.drop();\n\t\t\t\twindow.removeEventListener('mousedown', this.mouseHandler, true);\n\t\t\t\twindow.removeEventListener('mousemove', this.mouseHandler, true);\n\t\t\t}\n\t\t},\n\t\tgetPan() {\n\t\t\treturn {x: this.x, y: this.y};\n\t\t},\n\t\tsetPan(x, y) {\n\t\t\tconst bounds = this.panBounds;\n\t\t\tthis.x = Math.max(bounds.minX, Math.min(bounds.maxX, x));\n\t\t\tthis.y = Math.max(bounds.minY, Math.min(bounds.maxY, y));\n\t\t},\n\t\thBarPanRatio() {\n\t\t\tconst ratio = (this.panBounds.maxX - this.panBounds.minX) / this.hBarMaxSize;\n\t\t\treturn {x: -ratio, y: 0};\n\t\t},\n\t\tvBarPanRatio() {\n\t\t\tconst ratio = (this.panBounds.maxY - this.panBounds.minY) / this.vBarMaxSize;\n\t\t\treturn {x: 0, y: -ratio};\n\t\t},\n\t\tpointToSvg(domPoint) {\n\t\t\tconst p = this.$refs.viewer.createSVGPoint();\n\t\t\tp.x = domPoint.x;\n\t\t\tp.y = domPoint.y;\n\t\t\tconst transformed = p.matrixTransform(this.$refs.viewerContent.getScreenCTM().inverse());\n\t\t\treturn {\n\t\t\t\tx: transformed.x,\n\t\t\t\ty: transformed.y\n\t\t\t};\n\t\t},\n\t\thandleEvent(event) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'resize':\n\t\t\t\t\tthis.onResize(event);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tonResize() {\n\t\t\tconst rect = this.$refs.viewer.getBoundingClientRect();\n\t\t\tthis.offset = {x: rect.x, y: rect.y};\n\t\t\tthis.availableWidth = rect.width;\n\t\t\tthis.availableHeight = rect.height;\n\t\t},\n\t\tonWheel(event) {\n\t\t\tif (event.ctrlKey) {\n\t\t\t\tlet newZoom = this.zoom * (1 - (Math.sign(event.deltaY) * 0.1));\n\t\t\t\tnewZoom = Math.max(this.minZoom, Math.min(this.maxZoom, newZoom));\n\t\t\t\tif (newZoom !== this.zoom) {\n\t\t\t\t\tconst ctm = this.$refs.viewerContent.getScreenCTM();\n\t\t\t\t\tconst point = this.$refs.viewer.createSVGPoint();\n\t\t\t\t\tpoint.x = event.pageX;\n\t\t\t\t\tpoint.y = event.pageY;\n\t\t\t\t\tconst relativePoint = point.matrixTransform(ctm.inverse());\n\t\t\t\t\tconst modifier = this.$refs.viewer\n\t\t\t\t\t\t.createSVGMatrix()\n\t\t\t\t\t\t.translate(relativePoint.x, relativePoint.y)\n\t\t\t\t\t\t.scale(newZoom / this.zoom)\n\t\t\t\t\t\t.translate(-relativePoint.x, -relativePoint.y);\n\t\t\t\t\tconst newCTM = ctm.multiply(modifier);\n\n\t\t\t\t\tthis.zoom = newCTM.a;\n\t\t\t\t\tthis.setPan(\n\t\t\t\t\t\tnewCTM.e - this.offset.x,\n\t\t\t\t\t\tnewCTM.f - this.offset.y\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.setPan(\n\t\t\t\t\tthis.x + (Math.sign(event.deltaX) * -10),\n\t\t\t\t\tthis.y + (Math.sign(event.deltaY) * -10)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tcenterDrawing() {\n\t\t\tconst margin = 30;\n\t\t\tconst margin2 = margin * 2;\n\t\t\tconst screenRatio = this.availableWidth / this.availableHeight;\n\t\t\tconst drawingRatio = (this.drawingWidth + margin2 + this.barsWidth) / (this.drawingHeight + margin2 + this.barsWidth);\n\t\t\tif (drawingRatio > screenRatio) {\n\t\t\t\tthis.zoom = (this.availableWidth - margin2 - this.barsWidth) / this.drawingWidth;\n\t\t\t\tthis.x = margin;\n\t\t\t\tthis.y = ((this.availableHeight - this.barsWidth - (this.zoom * this.drawingHeight)) / 2);\n\t\t\t} else {\n\t\t\t\tthis.zoom = (this.availableHeight - margin2 - this.barsWidth) / this.drawingHeight;\n\t\t\t\tthis.y = margin;\n\t\t\t\tthis.x = ((this.availableWidth - this.barsWidth - (this.zoom * this.drawingWidth)) / 2);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n\t#container {\n\t\twidth:100%;\n\t\theight:100%;\n\t}\n\t#viewer {\n\t\tdisplay:block;\n\t\tbackground:#ccc;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t#toolbar {\n\t\tposition: absolute;\n\t\tbottom: 30px;\n\t}\n\t#hScrollContainer {\n\t\tposition: absolute;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\tright: 0px;\n\t\tbackground: #66666666;\n\t}\n\t#vScrollContainer {\n\t\tposition: absolute;\n\t\tbottom: 0px;\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbackground: #66666666;\n\t}\n\t.scrollBar {\n\t\tposition: relative;\n\t\tbackground: #666;\n\t\tborder-radius: 10px;\n\t}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgViewport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgViewport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgViewport.vue?vue&type=template&id=7f2576c4&scoped=true&\"\nimport script from \"./SvgViewport.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgViewport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgViewport.vue?vue&type=style&index=0&id=7f2576c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f2576c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('circle',{class:_vm.circleClass,attrs:{\"cx\":_vm.point.x,\"cy\":_vm.point.y,\"r\":_vm.size}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<circle\n\t\t:cx=\"point.x\"\n\t\t:cy=\"point.y\"\n\t\t:r=\"size\"\n\t\t:class=\"circleClass\"\n\t/>\n</template>\n\n<script>\nimport {Point} from '../../core/Point';\n\nconst PointType = {\n\tcursor: 1,\n\tstartPoint: 2,\n\tguide: 3\n};\nObject.freeze(PointType);\n\nfunction getClass(type) {\n\tswitch (type) {\n\t\tcase 1: return 'cursor';\n\t\tcase 2: return 'startPoint';\n\t\tcase 3: return 'guide';\n\t\tdefault: return '';\n\t}\n}\n\nexport default {\n\tname: 'DrawingPoint',\n\tprops: {\n\t\tpoint: {\n\t\t\ttype: Object,\n\t\t\tdefault: new Point()\n\t\t},\n\t\ttype: {\n\t\t\ttype: Number,\n\t\t\tdefault: PointType.guide\n\t\t},\n\t\thovered: Boolean\n\t},\n\tcomputed: {\n\t\tsize() {\n\t\t\tswitch (this.type) {\n\t\t\t\tcase 1: return 5;\n\t\t\t\tcase 2: return this.hovered ? 7 : 5;\n\t\t\t\tcase 3: return 3;\n\t\t\t\tdefault: return 0;\n\t\t\t}\n\t\t},\n\t\tcircleClass() {\n\t\t\treturn getClass(this.type) + (this.hovered ? 'Hovered' : '');\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\n$gray: #aaa;\n\ncircle {\n\tstroke-width: 1;\n}\n\n.cursor {\n\tstroke: $blue;\n\tfill: transparent;\n}\n\n.startPoint {\n\tstroke: $blue;\n\tfill: $blue;\n\n\t&Hovered {\n\t\tfill: $tranparent-blue;\n\t}\n}\n\n.guide {\n\tstroke: $gray;\n\tfill: $gray;\n\n\t&Hovered {\n\t\tfill: transparent;\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPoint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPoint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawingPoint.vue?vue&type=template&id=2c85e2a3&scoped=true&\"\nimport script from \"./DrawingPoint.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawingPoint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawingPoint.vue?vue&type=style&index=0&id=2c85e2a3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c85e2a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_vm._l((_vm.lines),function(line){return _c('DrawingLine',{key:line.id,attrs:{\"p1\":line.bounds[0],\"p2\":line.bounds[1],\"hovered\":_vm.amIHovered(line)}})}),_vm._l((_vm.intersections),function(p){return _c('DrawingPoint',{key:p.id,attrs:{\"point\":p,\"type\":3,\"hovered\":_vm.amIHovered(p)}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('line',{class:_vm.lineClass,attrs:{\"x1\":_vm.p1.x,\"y1\":_vm.p1.y,\"x2\":_vm.p2.x,\"y2\":_vm.p2.y}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<line\n\t\t:x1=\"p1.x\"\n\t\t:y1=\"p1.y\"\n\t\t:x2=\"p2.x\"\n\t\t:y2=\"p2.y\"\n\t\t:class=\"lineClass\"\n\t/>\n</template>\n\n<script>\nimport {Point} from '../../core/Point';\n\nexport default {\n\tname: 'DrawingLine',\n\tprops: {\n\t\tp1: {\n\t\t\ttype: Object,\n\t\t\tdefault: new Point()\n\t\t},\n\t\tp2: {\n\t\t\ttype: Object,\n\t\t\tdefault: new Point()\n\t\t},\n\t\thovered: Boolean\n\t},\n\tcomputed: {\n\t\tlineClass() {\n\t\t\treturn this.hovered ? 'hoveredLine' : '';\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/global.scss';\n\nline {\n\tstroke-width: 1;\n\tstroke: #0005;\n}\n\n.hoveredLine {\n\tstroke: $blue;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DrawingLine.vue?vue&type=template&id=cecd459a&scoped=true&\"\nimport script from \"./DrawingLine.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawingLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawingLine.vue?vue&type=style&index=0&id=cecd459a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cecd459a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<g>\n\t\t<DrawingLine\n\t\t\tv-for=\"line in lines\"\n\t\t\t:key=\"line.id\"\n\t\t\t:p1=\"line.bounds[0]\"\n\t\t\t:p2=\"line.bounds[1]\"\n\t\t\t:hovered=\"amIHovered(line)\"\n\t\t/>\n\t\t<DrawingPoint\n\t\t\tv-for=\"p in intersections\"\n\t\t\t:key=\"p.id\"\n\t\t\t:point=\"p\"\n\t\t\t:type=\"3\"\n\t\t\t:hovered=\"amIHovered(p)\"\n\t\t/>\n\t</g>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex';\n\nimport DrawingPoint from './drawing/DrawingPoint.vue';\nimport DrawingLine from './drawing/DrawingLine.vue';\nimport {Intersection} from '../core/Intersection';\nimport {Line} from '../core/Line';\n\nexport default {\n\tname: 'Guides',\n\tcomponents: {\n\t\tDrawingPoint,\n\t\tDrawingLine\n\t},\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'hoveredElement'\n\t\t]),\n\t\t...mapGetters([\n\t\t\t'lines',\n\t\t\t'intersections'\n\t\t])\n\t},\n\tmethods: {\n\t\tamIHovered(myModel) {\n\t\t\treturn this.hoveredElement === myModel ||\n\t\t\t\t(this.hoveredElement instanceof Intersection &&\n\t\t\t\t\tmyModel instanceof Line &&\n\t\t\t\t\tthis.hoveredElement.crossingLines.includes(myModel));\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Guides.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Guides.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Guides.vue?vue&type=template&id=131942be&\"\nimport script from \"./Guides.vue?vue&type=script&lang=js&\"\nexport * from \"./Guides.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"app\">\n\t\t<Menu id=\"menu\" />\n\t\t<div id=\"mainContent\">\n\t\t\t<SvgViewport ref=\"svgViewport\">\n\t\t\t\t<g\n\t\t\t\t\tref=\"mainGroup\"\n\t\t\t\t\t@mousemove=\"mouseMove($event)\"\n\t\t\t\t\t@mousedown.left=\"mouseDown()\"\n\t\t\t\t\t@mouseup.left=\"mouseUp($event)\"\n\t\t\t\t>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx=\"0\"\n\t\t\t\t\t\ty=\"0\"\n\t\t\t\t\t\t:width=\"drawingSize.x\"\n\t\t\t\t\t\t:height=\"drawingSize.y\"\n\t\t\t\t\t\tfill=\"white\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<DebugView v-if=\"debugMode\" />\n\n\t\t\t\t\t<path\n\t\t\t\t\t\tv-for=\"shape in shapes\"\n\t\t\t\t\t\t:key=\"shape.id\"\n\t\t\t\t\t\t:d=\"getPath(shape.points)\"\n\t\t\t\t\t\tstroke-width=\"0\"\n\t\t\t\t\t\tfill=\"black\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<template v-if=\"drawingState\">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t:d=\"currentPath\"\n\t\t\t\t\t\t\tstroke=\"black\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke-width=\"1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Guides />\n\t\t\t\t\t\t<DrawingPoint\n\t\t\t\t\t\t\tv-if=\"showStartPoint\"\n\t\t\t\t\t\t\t:point=\"startPoint\"\n\t\t\t\t\t\t\t:type=\"2\"\n\t\t\t\t\t\t\t:hovered=\"hoveredElement === startPoint\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DrawingPoint :point=\"currentPoint\" :type=\"1\" />\n\t\t\t\t\t</template>\n\t\t\t\t</g>\n\t\t\t</SvgViewport>\n\n\t\t\t<DebugInfo\n\t\t\t\tv-if=\"debugMode\"\n\t\t\t\t:mouse=\"mousePosition\"\n\t\t\t\t:cursor=\"currentPoint\"\n\t\t\t\t:hovered=\"hoveredElement\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<Tutorial class=\"fullScreen\" />\n\t\t<ExportModal class=\"fullScreen\" />\n\t\t<New class=\"fullScreen\" />\n\t</div>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex';\nimport * as states from './store/states';\n\nimport DebugInfo from './components/debug/DebugInfo.vue';\nimport DebugView from './components/debug/DebugView.vue';\nimport Tutorial from './components/tutorial/Tutorial.vue';\nimport Menu from './components/menu/Menu.vue';\nimport ExportModal from './components/exporter/ExportModal.vue';\nimport New from './components/new/New.vue';\n\nimport SvgViewport from './components/SvgViewport.vue';\nimport DrawingPoint from './components/drawing/DrawingPoint.vue';\nimport Guides from './components/Guides.vue';\n\nimport {Point} from './core/Point';\nimport {Intersection} from './core/Intersection';\nimport {Line} from './core/Line';\nimport {constrainPointPosition} from './core/Constraint';\nimport {getShapePath} from './core/Helpers/SvgHelpers';\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tDebugInfo,\n\t\tDebugView,\n\t\tTutorial,\n\t\tMenu,\n\t\tExportModal,\n\t\tNew,\n\t\tSvgViewport,\n\t\tDrawingPoint,\n\t\tGuides\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdebugMode: false,\n\t\t\tsnapThreshold: 20,\n\t\t\tmousePosition: new Point(),\n\t\t\tcurrentPoint: new Point(),\n\t\t\tdownBeforeUp: false\n\t\t};\n\t},\n\tcomputed: {\n\t\tshowStartPoint() {\n\t\t\treturn this.currentShapePoints.length > 2;\n\t\t},\n\t\tstartPoint() {\n\t\t\treturn this.currentShapePoints[0];\n\t\t},\n\t\tcurrentPath() {\n\t\t\treturn getShapePath(this.currentShapePoints.concat(this.currentPoint), false);\n\t\t},\n\t\tshouldListenToKeyEvents() {\n\t\t\treturn this.interactionState === states.DRAWING || this.interactionState === states.PREVIEW;\n\t\t},\n\t\t...mapState([\n\t\t\t'shapes',\n\t\t\t'currentShapePoints',\n\t\t\t'hoveredElement',\n\t\t\t'interactionState'\n\t\t]),\n\t\t...mapState('parameters', ['drawingSize']),\n\t\t...mapGetters([\n\t\t\t'lines',\n\t\t\t'intersections',\n\t\t\t'constrainedElements',\n\t\t\t'drawingState'\n\t\t])\n\t},\n\twatch: {\n\t\tshouldListenToKeyEvents() {\n\t\t\tconst method = this.shouldListenToKeyEvents ? document.addEventListener : document.removeEventListener;\n\t\t\tmethod('keydown', this.keyDown);\n\t\t\tmethod('keyup', this.keyUp);\n\t\t}\n\t},\n\tmounted() {\n\t\twindow.addEventListener('blur', this.windowLostFocus);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('blur', this.windowLostFocus);\n\t},\n\tmethods: {\n\t\tgetPosition(event) {\n\t\t\tconst newP = this.$refs.svgViewport.pointToSvg({\n\t\t\t\tx: event.pageX,\n\t\t\t\ty: event.pageY\n\t\t\t});\n\t\t\treturn new Point(newP.x, newP.y);\n\t\t},\n\t\tgetPath(shape) {\n\t\t\treturn getShapePath(shape, true);\n\t\t},\n\t\tcloseCurrentShape() {\n\t\t\tthis.$store.commit('validateCurrentShape');\n\t\t},\n\t\tcancelCurrentShape() {\n\t\t\tif (this.currentShapePoints.length > 0) {\n\t\t\t\tthis.$store.commit('cancelShape');\n\t\t\t}\n\t\t},\n\t\tgetSnappedPosition(mousePosition) {\n\t\t\tlet snappedPoint = constrainPointPosition(\n\t\t\t\tmousePosition,\n\t\t\t\tthis.currentShapePoints,\n\t\t\t\t{\n\t\t\t\t\tminStroke: this.$store.state.parameters.minStroke,\n\t\t\t\t\tmaxStroke: this.$store.state.parameters.maxStroke,\n\t\t\t\t\tminAngle: this.$store.state.parameters.minAngle,\n\t\t\t\t\tangleStep: this.$store.state.parameters.angleStep\n\t\t\t\t});\n\t\t\tlet nearestPoint;\n\t\t\tlet nearestDistance = this.snapThreshold * this.snapThreshold;\n\t\t\tlet hovered;\n\n\t\t\tconst {points, segments} = this.constrainedElements;\n\n\t\t\tpoints.forEach(p => {\n\t\t\t\tconst d = p.getSquaredDistanceTo(snappedPoint);\n\t\t\t\tif (d < nearestDistance) {\n\t\t\t\t\tnearestDistance = d;\n\t\t\t\t\tnearestPoint = p;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (nearestPoint === undefined) {\n\t\t\t\tlet nearestSegment;\n\t\t\t\tsegments.forEach(s => {\n\t\t\t\t\tconst p = s.getProjection(snappedPoint);\n\t\t\t\t\tconst d = p.getSquaredDistanceTo(snappedPoint);\n\t\t\t\t\tif (d < nearestDistance) {\n\t\t\t\t\t\tnearestDistance = d;\n\t\t\t\t\t\tnearestPoint = p;\n\t\t\t\t\t\tnearestSegment = s;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (nearestPoint !== undefined) {\n\t\t\t\t\tsnappedPoint = nearestPoint;\n\n\t\t\t\t\tif (nearestSegment instanceof Line) {\n\t\t\t\t\t\thovered = nearestSegment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thovered = nearestSegment.associatedLine;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsnappedPoint = nearestPoint;\n\t\t\t\thovered = nearestPoint;\n\t\t\t}\n\n\t\t\tif (hovered !== this.hoveredElement) {\n\t\t\t\tthis.$store.commit('setHoveredElement', hovered);\n\t\t\t}\n\n\t\t\treturn snappedPoint;\n\t\t},\n\t\tupdateCurrentPoint() {\n\t\t\tthis.currentPoint = this.getSnappedPosition(this.mousePosition);\n\t\t},\n\t\tmouseMove(event) {\n\t\t\tthis.mousePosition = this.getPosition(event);\n\t\t\tif (this.mousePosition.x >= 0 &&\n\t\t\t\tthis.mousePosition.x <= this.drawingSize.x &&\n\t\t\t\tthis.mousePosition.y >= 0 &&\n\t\t\t\tthis.mousePosition.y <= this.drawingSize.y)\n\t\t\t{\n\t\t\t\tthis.updateCurrentPoint();\n\t\t\t}\n\t\t},\n\t\tmouseDown() {\n\t\t\t// We want to react to mouseUp only if mouseDown was also captured\n\t\t\tthis.downBeforeUp = true;\n\t\t},\n\t\tmouseUp(event) {\n\t\t\tif (this.downBeforeUp) {\n\t\t\t\tthis.downBeforeUp = false;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.drawingState) {\n\t\t\t\tconst snappedPoint = this.getSnappedPosition(this.getPosition(event));\n\n\t\t\t\tif (this.showStartPoint && snappedPoint === this.startPoint) {\n\t\t\t\t\tthis.closeCurrentShape();\n\t\t\t\t} else {\n\t\t\t\t\tlet newPoint = snappedPoint;\n\t\t\t\t\tif (!(newPoint instanceof Intersection)) {\n\t\t\t\t\t\tnewPoint = new Intersection(snappedPoint.x, snappedPoint.y);\n\t\t\t\t\t\tif (this.hoveredElement instanceof Line) {\n\t\t\t\t\t\t\tnewPoint.crossingLines.push(this.hoveredElement);\n\t\t\t\t\t\t\t// Warning : the line is not yet aknowledge of this link\n\t\t\t\t\t\t\t// it will be at shape creation\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$store.commit('addPoint', newPoint);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tkeyDown(keyEvent) {\n\t\t\tconst key = keyEvent.key.toLowerCase();\n\t\t\tif (key === 'control') {\n\t\t\t\tthis.toggleAngleSteps(true);\n\t\t\t} else if (key === 'r' && !keyEvent.repeat) {\n\t\t\t\tthis.togglePreviewMode(true);\n\t\t\t} else if (key === ' ' && !keyEvent.repeat) {\n\t\t\t\tthis.$refs.svgViewport.initMousePan();\n\t\t\t}\n\t\t},\n\t\tkeyUp(keyEvent) {\n\t\t\tconst key = keyEvent.key.toLowerCase();\n\t\t\tif (key === 'control') {\n\t\t\t\tthis.toggleAngleSteps(false);\n\t\t\t} else if (key === 'z' && keyEvent.ctrlKey) {\n\t\t\t\tif (keyEvent.shiftKey) {\n\t\t\t\t\tthis.$store.commit('redo');\n\t\t\t\t} else {\n\t\t\t\t\tthis.$store.commit('undo');\n\t\t\t\t}\n\t\t\t} else if ((key === 'y' && keyEvent.ctrlKey)) {\n\t\t\t\tthis.$store.commit('redo');\n\t\t\t} else if (key === 'd') {\n\t\t\t\tthis.debugMode = !this.debugMode;\n\t\t\t} else if (key === 'r') {\n\t\t\t\tthis.togglePreviewMode(false);\n\t\t\t} else if (key === 'enter') {\n\t\t\t\tthis.closeCurrentShape();\n\t\t\t} else if (key === 'escape') {\n\t\t\t\tthis.cancelCurrentShape();\n\t\t\t} else if (key === ' ') {\n\t\t\t\tthis.$refs.svgViewport.stopMousePan();\n\t\t\t}\n\t\t},\n\t\twindowLostFocus() {\n\t\t\tthis.toggleAngleSteps(false);\n\t\t\tthis.togglePreviewMode(false);\n\t\t},\n\t\ttoggleAngleSteps(activate) {\n\t\t\tif (this.$store.state.parameters.toggleAngleSteps !== activate) {\n\t\t\t\tthis.$store.commit('parameters/toggleAngleSteps', activate);\n\t\t\t\tthis.updateCurrentPoint();\n\t\t\t}\n\t\t},\n\t\ttogglePreviewMode(activate) {\n\t\t\tconst state = this.$store.state.interactionState;\n\n\t\t\tif (activate && state === states.DRAWING) {\n\t\t\t\tthis.$store.commit('setInteractionState', states.PREVIEW);\n\t\t\t} else if (!activate && state === states.PREVIEW) {\n\t\t\t\tthis.$store.commit('setInteractionState', states.DRAWING);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style >\nbody {\n\tmargin: 0px;\n\tfont-family: Arial, Helvetica;\n\tfont-size: 10pt;\n}\n\nhtml, body, #app {\n\twidth:100%;\n\theight:100%;\n}\n\n#app {\n\tdisplay: grid;\n\tgrid-template-columns: 190px auto;\n}\n\n#menu {\n\tgrid-column: 1 / 2;\n\tbackground: #f2f2f2;\n\tbox-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.3);\n\tuser-select: none;\n\tz-index: 10;\n}\n\n#mainContent {\n\tgrid-column: 2 / 3;\n\tposition: relative;\n}\n\n.fullScreen {\n\tgrid-column: 1 / 3;\n\tz-index: 20;\n}\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3338e30c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n\tnamespaced: true,\n\tstate: {\n\t\tdrawingSize: {x: 1000, y: 600},\n\t\tshapesGap: 10,\n\t\tsnapThreshold: 20,\n\t\tminStroke: 0,\n\t\tmaxStroke: 1000,\n\t\tminAngle: 10 * Math.PI / 180,\n\t\tselectedAngleStep: 10 * Math.PI / 180,\n\t\tangleStep: 0\n\t},\n\tmutations: {\n\t\tsetMinStroke(state, value) {\n\t\t\tstate.minStroke = value;\n\t\t},\n\t\tsetMaxStroke(state, value) {\n\t\t\tstate.maxStroke = value;\n\t\t},\n\t\tsetMinAngle(state, value) {\n\t\t\tstate.minAngle = value;\n\t\t},\n\t\tsetSelectedAngleStep(state, value) {\n\t\t\tstate.selectedAngleStep = value;\n\t\t},\n\t\ttoggleAngleSteps(state, value) {\n\t\t\tconst newValue = value ? state.selectedAngleStep : 0;\n\t\t\tif (state.angleStep !== newValue) {\n\t\t\t\tstate.angleStep = newValue;\n\t\t\t}\n\t\t},\n\t\tsetDrawingProperties(state, properties) {\n\t\t\tstate.drawingSize.x = properties.width;\n\t\t\tstate.drawingSize.y = properties.height;\n\t\t\tstate.shapesGap = properties.gap;\n\t\t}\n\t}\n};\n","import {Point} from './Point';\nimport {Intersection} from './Intersection';\nimport {Line} from './Line';\nimport {isShapeClockwiseOriented, moveSegmentOutside, getIntersection} from './Helpers/GeometryHelpers';\nimport {mapConsecutive, forEachConsecutive, removeIfAny} from './Helpers/ArrayHelpers';\n\nlet shapeCount = 0;\nexport class Shape {\n\tconstructor(points, xmax, ymax, shapesGap) {\n\t\tthis.points = [...points];\n\n\t\tlet clockwisePoints = this.points;\n\t\tif (!isShapeClockwiseOriented(clockwisePoints)) {\n\t\t\tclockwisePoints = [...points].reverse();\n\t\t}\n\n\t\tconst lineMap = new Map(mapConsecutive(clockwisePoints, (A, B) => {\n\t\t\tlet line = A.crossingLines.find(l => l.includes(B));\n\n\t\t\tif (line === undefined) {\n\t\t\t\tline = B.crossingLines.find(l => l.includes(A));\n\t\t\t}\n\n\t\t\tif (line === undefined) {\n\t\t\t\tline = new Line(A, B, xmax, ymax);\n\t\t\t} else {\n\t\t\t\tline.addPoint(A);\n\t\t\t\tline.addPoint(B);\n\t\t\t}\n\n\t\t\treturn [A, line];\n\t\t}));\n\n\t\tthis.lines = Array.from(lineMap.values());\n\t\tthis.spacedLines = [];\n\n\t\tconst createParallelLines = (A, B, C, D) => {\n\t\t\tconst AB = lineMap.get(A);\n\t\t\tconst BC = lineMap.get(B);\n\t\t\tconst CD = lineMap.get(C);\n\n\t\t\tlet parallelLine;\n\t\t\tlet B2;\n\t\t\tlet C2;\n\t\t\tlet Btemp;\n\t\t\tlet Ctemp;\n\n\t\t\t// Retrieve previously created line and points\n\t\t\tif (BC.parallels.length > 0) {\n\t\t\t\tparallelLine = BC.parallels[0]; // TODO: correct this wrong assumption !\n\n\t\t\t\tB2 = parallelLine.getKnownIntersectionWith(AB);\n\t\t\t\tC2 = parallelLine.getKnownIntersectionWith(CD);\n\n\t\t\t\tif (B2 === undefined) {\n\t\t\t\t\tBtemp = parallelLine.intersections.find(i => i !== C2);\n\t\t\t\t} else {\n\t\t\t\t\tBtemp = B2;\n\t\t\t\t}\n\n\t\t\t\tif (C2 === undefined) {\n\t\t\t\t\tCtemp = parallelLine.intersections.find(i => i !== B2 && i !== Btemp);\n\t\t\t\t} else {\n\t\t\t\t\tCtemp = C2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (B2 === undefined || C2 === undefined) {\n\t\t\t\tif (Btemp === undefined || Ctemp === undefined) {\n\t\t\t\t\tconst movedBC = moveSegmentOutside(B, C, shapesGap);\n\t\t\t\t\tBtemp = Btemp || movedBC.A2;\n\t\t\t\t\tCtemp = Ctemp || movedBC.B2;\n\t\t\t\t}\n\n\t\t\t\t// Get intersections with the shape's previous and next segment\n\t\t\t\t// to keep points that have more interest\n\t\t\t\tif (B2 === undefined) {\n\t\t\t\t\tconst i = getIntersection(A, B, Btemp, Ctemp);\n\t\t\t\t\tB2 = i instanceof Point ? Intersection.createFrom(i) : Btemp;\n\t\t\t\t}\n\n\t\t\t\tif (C2 === undefined) {\n\t\t\t\t\tconst i = getIntersection(Btemp, Ctemp, C, D);\n\t\t\t\t\tC2 = i instanceof Point ? Intersection.createFrom(i) : Ctemp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (parallelLine === undefined) {\n\t\t\t\tparallelLine = new Line(B2, C2, xmax, ymax);\n\t\t\t} else {\n\t\t\t\tparallelLine.addPoint(B2);\n\t\t\t\tparallelLine.addPoint(C2);\n\t\t\t}\n\n\t\t\tAB.addPoint(B2);\n\t\t\tCD.addPoint(C2);\n\n\t\t\tLine.linkParallelLines(BC, parallelLine);\n\t\t\tthis.spacedLines.push(parallelLine);\n\t\t};\n\n\t\tforEachConsecutive(clockwisePoints, createParallelLines, -1);\n\n\t\tforEachConsecutive(this.spacedLines, (l1, l2) => {\n\t\t\tl1.getOrCreateIntersectionWith(l2);\n\t\t});\n\n\t\tthis.lines\n\t\t\t.concat(this.spacedLines)\n\t\t\t.forEach(l => l.linkedShapes.push(this));\n\n\t\tthis.id = 'S' + shapeCount++;\n\t}\n\n\tupdateIntersections(lines) {\n\t\tconst newLines = this.lines.concat(this.spacedLines);\n\t\tlines.forEach(line => {\n\t\t\tnewLines.forEach(newLine => {\n\t\t\t\tline.getOrCreateIntersectionWith(newLine);\n\t\t\t});\n\t\t});\n\t}\n\n\tremoveAllLinks() {\n\t\t// Remove all links on lines that are linked only to this shape\n\t\tconst myLines = this.lines\n\t\t\t.concat(this.spacedLines)\n\t\t\t.filter(line => line.linkedShapes.length === 1);\n\n\t\tmyLines.forEach(line => {\n\t\t\tline.parallels.forEach(p => {\n\t\t\t\tremoveIfAny(p.parallels, line);\n\t\t\t});\n\t\t\tline.parallels = [];\n\t\t\tline.linkedShapes = [];\n\t\t});\n\n\t\t[...myLines.map(line => line.intersections).flat()]\n\t\t\t.forEach(i => {\n\t\t\t\ti.crossingLines.forEach(l => {\n\t\t\t\t\tremoveIfAny(l.intersections, i);\n\t\t\t\t});\n\n\t\t\t\tmyLines.forEach(l => {\n\t\t\t\t\tremoveIfAny(i.crossingLines, l);\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport parameters from './parameters';\nimport EventBus from '../EventBus';\nimport {Shape} from '../core/Shape';\nimport {Point} from '../core/Point';\nimport {getContrainedSnappingElements} from '../core/Constraint';\nimport {distinct} from '../core/Helpers/ArrayHelpers';\nimport {isInsideBounds} from '../core/Helpers/GeometryHelpers';\nimport * as states from './states';\n\nVue.use(Vuex);\n\nconst getters = {\n\tlines(state) {\n\t\treturn state.shapes\n\t\t\t.map(s => s.lines.concat(s.spacedLines))\n\t\t\t.flat()\n\t\t\t.filter(distinct);\n\t},\n\tintersections(state, getters) {\n\t\treturn getters.lines\n\t\t\t.map(l => l.intersections)\n\t\t\t.flat()\n\t\t\t.filter(distinct)\n\t\t\t.filter(p => isInsideBounds(p, state.parameters.drawingSize.x, state.parameters.drawingSize.y));\n\t},\n\tconstrainedElements(state, getters) {\n\t\tconst points = [...getters.intersections];\n\t\tif (state.currentShapePoints.length > 2) {\n\t\t\tpoints.push(state.currentShapePoints[0]);\n\t\t}\n\n\t\treturn getContrainedSnappingElements(\n\t\t\tpoints,\n\t\t\tgetters.lines,\n\t\t\tstate.currentShapePoints,\n\t\t\t{\n\t\t\t\tdrawingSize: state.parameters.drawingSize,\n\t\t\t\tminStroke: state.parameters.minStroke,\n\t\t\t\tmaxStroke: state.parameters.maxStroke,\n\t\t\t\tminAngle: state.parameters.minAngle,\n\t\t\t\tangleStep: state.parameters.angleStep\n\t\t\t});\n\t},\n\tcanUndo(state) {\n\t\treturn state.shapes.length > 0 || state.currentShapePoints.length > 0;\n\t},\n\tcanRedo(state) {\n\t\treturn state.redoStack.length > 0;\n\t},\n\tdrawingState(state) {\n\t\treturn state.interactionState === states.DRAWING;\n\t}\n};\n\nconst closeCurrentShape = function (state) {\n\tconst newShape = new Shape(\n\t\tstate.currentShapePoints,\n\t\tstate.parameters.drawingSize.x,\n\t\tstate.parameters.drawingSize.y,\n\t\tstate.parameters.shapesGap);\n\tnewShape.updateIntersections(getters.lines(state));\n\tstate.currentShapePoints = [];\n\tstate.shapes.push(newShape);\n};\n\nconst debug = process.env.NODE_ENV !== 'production';\nexport default new Vuex.Store({\n\tstrict: debug,\n\tstate: {\n\t\tinteractionState: states.TUTORIAL,\n\t\tshapes: [],\n\t\tcurrentShapePoints: [],\n\t\thoveredElement: undefined,\n\t\tredoStack: []\n\t},\n\tmodules: {\n\t\tparameters\n\t},\n\tmutations: {\n\t\tsetInteractionState(state, uiState) {\n\t\t\tstate.interactionState = uiState;\n\t\t},\n\t\taddPoint(state, point) {\n\t\t\tstate.currentShapePoints.push(point);\n\t\t\tstate.redoStack = [];\n\t\t},\n\t\tvalidateCurrentShape(state) {\n\t\t\tcloseCurrentShape(state);\n\t\t\tstate.redoStack = [];\n\t\t},\n\t\tsetHoveredElement(state, element) {\n\t\t\tstate.hoveredElement = element;\n\t\t},\n\n\t\tundo(state) {\n\t\t\tif (state.currentShapePoints.length > 0) {\n\t\t\t\tstate.redoStack.push(state.currentShapePoints.pop());\n\t\t\t} else if (state.shapes.length > 0) {\n\t\t\t\tconst shape = state.shapes.pop();\n\t\t\t\tstate.currentShapePoints = shape.points;\n\t\t\t\tshape.removeAllLinks();\n\t\t\t\tstate.redoStack.push('closeShape');\n\t\t\t}\n\t\t},\n\t\tcancelShape(state) {\n\t\t\tif (state.currentShapePoints.length > 0) {\n\t\t\t\tconst reversed = [...state.currentShapePoints].reverse();\n\t\t\t\tstate.redoStack.push(...reversed);\n\t\t\t\tstate.currentShapePoints = [];\n\t\t\t}\n\t\t},\n\t\tredo(state) {\n\t\t\tif (state.redoStack.length > 0) {\n\t\t\t\tconst last = state.redoStack.pop();\n\t\t\t\tif (last instanceof Point) {\n\t\t\t\t\tstate.currentShapePoints.push(last);\n\t\t\t\t} else if (last === 'closeShape') {\n\t\t\t\t\tcloseCurrentShape(state);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treset(state) {\n\t\t\tstate.shapes = [];\n\t\t\tstate.currentShapePoints = [];\n\t\t\tstate.hoveredElement = undefined;\n\t\t\tstate.redoStack = [];\n\t\t}\n\t},\n\tgetters,\n\tactions: {\n\t\tcreateNew(context, parameters) {\n\t\t\tcontext.commit('reset');\n\t\t\tcontext.commit('parameters/setDrawingProperties', parameters);\n\t\t\tEventBus.$emit('newDrawing');\n\t\t\tcontext.commit('setInteractionState', states.DRAWING);\n\t\t}\n\t}\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n\tstore,\n\trender(h) {\n\t\treturn h(App);\n\t}\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=style&index=0&id=7d69c211&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arrow.vue?vue&type=style&index=0&id=7d69c211&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/loadingWheel.6ff13ec8.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPoint.vue?vue&type=style&index=0&id=2c85e2a3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawingPoint.vue?vue&type=style&index=0&id=2c85e2a3&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/drawing.545a5bdd.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugInfo.vue?vue&type=style&index=0&id=3b563d46&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DebugInfo.vue?vue&type=style&index=0&id=3b563d46&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParametersContent.vue?vue&type=style&index=0&id=7ca351c8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParametersContent.vue?vue&type=style&index=0&id=7ca351c8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=style&index=0&id=f659fed0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=style&index=0&id=f659fed0&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=0daf0a82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=0daf0a82&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=306f4163&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=306f4163&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/add.ad882c1a.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=style&index=0&id=6e49dd3a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=style&index=0&id=6e49dd3a&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/move.85173331.svg\";","module.exports = __webpack_public_path__ + \"img/end.b1dd04da.svg\";"],"sourceRoot":""}